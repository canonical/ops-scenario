<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta property="og:title" content="Scenario API reference" />
<meta property="og:type" content="website" />
<meta property="og:url" content="index.html" />
<meta property="og:site_name" content="Scenario" />
<meta property="og:description" content="Contents:: scenario.Context, scenario.State, scenario.capture_events, scenario.consistency_checker. scenario: Charm state-transition testing SDK for Operator Framework charms. Write unit tests that..." />
<meta name="description" content="Contents:: scenario.Context, scenario.State, scenario.capture_events, scenario.consistency_checker. scenario: Charm state-transition testing SDK for Operator Framework charms. Write unit tests that..." />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="scenario.Context" href="context.html" />

    <link rel="shortcut icon" href="_static/favicon.png"/><!-- Generated with Sphinx 6.2.1 and Furo 2024.01.29 -->
        <title>Scenario documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=369552022d0b975c8e74270ce6eabe0fb7978f24" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/youtube.css" />
    <link rel="stylesheet" type="text/css" href="_static/related-links.css" />
    <link rel="stylesheet" type="text/css" href="_static/terminal-output.css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/header.css" />
    <link rel="stylesheet" type="text/css" href="_static/github_issue_links.css" />
    <link rel="stylesheet" type="text/css" href="_static/furo_colors.css" />
    
</head>
  <body>
    <header id="header" class="p-navigation">

  <div class="p-navigation__nav" role="menubar">

    <ul class="p-navigation__links" role="menu">

      <li>
        <a class="p-logo" href="https://juju.is/docs/sdk" aria-current="page">
          <img src="_static/tag.png" alt="Logo" class="p-logo-image">
          <div class="p-logo-text p-heading--4">Scenario
          </div>
        </a>
      </li>

      <li class="nav-ubuntu-com">
        <a href="https://juju.is/docs/sdk" class="p-navigation__link">juju.is/docs/sdk</a>
      </li>

      <li>
        <a href="#" class="p-navigation__link nav-more-links">More resources</a>
        <ul class="more-links-dropdown">

          <li>
            <a href="https://discourse.charmhub.io/" class="p-navigation__sub-link p-dropdown__link">Forum</a>
          </li>

          <li>
            <a href="https://github.com/canonical/ops-scenario" class="p-navigation__sub-link p-dropdown__link">GitHub</a>
          </li>

        </ul>
      </li>

    </ul>
  </div>
</header>
   
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="#"><div class="brand">Scenario documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="#">
  
  
  <span class="sidebar-brand-text">Scenario documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
    <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
    <input type="submit" value="Go">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
  <div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="context.html">scenario.Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="state.html">scenario.State</a></li>
<li class="toctree-l1"><a class="reference internal" href="capture_events.html">scenario.capture_events</a></li>
<li class="toctree-l1"><a class="reference internal" href="consistency_checker.html">scenario.consistency_checker</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="scenario-api-reference">
<h1>Scenario API reference<a class="headerlink" href="#scenario-api-reference" title="Permalink to this heading">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="context.html">scenario.Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="state.html">scenario.State</a></li>
<li class="toctree-l1"><a class="reference internal" href="capture_events.html">scenario.capture_events</a></li>
<li class="toctree-l1"><a class="reference internal" href="consistency_checker.html">scenario.consistency_checker</a></li>
</ul>
</div>
</section>
<section id="module-scenario">
<span id="scenario"></span><h1>scenario<a class="headerlink" href="#module-scenario" title="Permalink to this heading">¶</a></h1>
<p>Charm state-transition testing SDK for Operator Framework charms.</p>
<p>Write unit tests that declaratively define the Juju state all at once, define
the Juju context against which to test the charm, and fire a single event on the
charm to execute its logic. The tests can then assert that the Juju state has
changed as expected.</p>
<p>These tests are somewhere in between unit and integration tests: they could be
called ‘functional’ or ‘contract’, and most properly are ‘state-transition’.
However, for simplicity, we refer to them as ‘unit’ tests in the charm context.</p>
<p>Writing these tests should nudge you into thinking of a charm as a black-box
input-&gt;output function. The input is the union of an <cite>Event</cite> (why am I, charm,
being executed), a <cite>State</cite> (am I leader? what is my relation data? what is my
config?…) and the charm’s execution <cite>Context</cite> (what relations can I have? what
containers can I have?…). The output is another <cite>State</cite>: the state after the
charm has had a chance to interact with the mocked Juju model and affect the
state.</p>
<img alt="Transition diagram, with the input state and event on the left, the context including the charm in the centre, and the state out on the right" src="https://raw.githubusercontent.com/canonical/ops-scenario/main/resources/state-transition-model.png" />
<p>Writing unit tests for a charm, then, means verifying that:</p>
<ul class="simple">
<li><p>the charm does not raise uncaught exceptions while handling the event</p></li>
<li><p>the output state (as compared with the input state) is as expected.</p></li>
</ul>
<p>A test consists of three broad steps:</p>
<ul class="simple">
<li><dl class="simple">
<dt><strong>Arrange</strong>:</dt><dd><ul>
<li><p>declare the context</p></li>
<li><p>declare the input state</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Act</strong>:</dt><dd><ul>
<li><p>select an event to fire</p></li>
<li><p>run the context (i.e. obtain the output state, given the input state and the event)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><strong>Assert</strong>:</dt><dd><ul>
<li><p>verify that the output state (as compared with the input state) is how you expect it to be</p></li>
<li><p>verify that the charm has seen a certain sequence of statuses, events, and <cite>juju-log</cite> calls</p></li>
<li><p>optionally, you can use a context manager to get a hold of the charm instance and run
assertions on APIs and state internal to it.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The most basic scenario is one in which all is defaulted and barely any data is
available. The charm has no config, no relations, no leadership, and its status
is <cite>unknown</cite>. With that, we can write the simplest possible test:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_base</span><span class="p">():</span>
    <span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">MyCharm</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">on</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">State</span><span class="p">())</span>
    <span class="k">assert</span> <span class="n">out</span><span class="o">.</span><span class="n">unit_status</span> <span class="o">==</span> <span class="n">UnknownStatus</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py exception">
<dt class="sig sig-object py" id="scenario.ActionFailed">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">ActionFailed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.State" title="scenario.state.State"><span class="pre">State</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#ActionFailed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.ActionFailed" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#Exception" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
<p>Raised at the end of the hook if the charm has called <code class="docutils literal notranslate"><span class="pre">event.fail()</span></code>.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.ActiveStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">ActiveStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#ActiveStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.ActiveStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_EntityStatus</span></code>, <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.ActiveStatus" title="(in The ops library)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ActiveStatus</span></code></a></p>
<p>The unit or application is ready and active.</p>
<p>Set this status when the charm is correctly offering all the services it
has been asked to offer. If the unit or application is operational but
some feature (like high availability) is in a degraded state, set “active”
with an appropriate message.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.ActiveStatus.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'active'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'active'</span></em><a class="headerlink" href="#scenario.ActiveStatus.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Address">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Address"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Address" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>An address in a Juju network space.</p>
<dl class="py property">
<dt class="sig sig-object py" id="scenario.Address.address">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">address</span></span><a class="headerlink" href="#scenario.Address.address" title="Permalink to this definition">¶</a></dt>
<dd><p>A deprecated alias for <a class="reference internal" href="#scenario.Address.value" title="scenario.Address.value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Address.cidr">
<span class="sig-name descname"><span class="pre">cidr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#scenario.Address.cidr" title="Permalink to this definition">¶</a></dt>
<dd><p>The CIDR of the address in <a class="reference internal" href="#scenario.Address.value" title="scenario.Address.value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Address.hostname">
<span class="sig-name descname"><span class="pre">hostname</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#scenario.Address.hostname" title="Permalink to this definition">¶</a></dt>
<dd><p>A host name that maps to the address in <a class="reference internal" href="#scenario.Address.value" title="scenario.Address.value"><code class="xref py py-attr docutils literal notranslate"><span class="pre">value</span></code></a>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Address.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Address.value" title="Permalink to this definition">¶</a></dt>
<dd><p>The IP address in the space.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.BindAddress">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">BindAddress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#BindAddress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.BindAddress" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>An address bound to a network interface in a Juju space.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.BindAddress.addresses">
<span class="sig-name descname"><span class="pre">addresses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Address" title="scenario.state.Address"><span class="pre">Address</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.BindAddress.addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>The addresses in the space.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.BindAddress.interface_name">
<span class="sig-name descname"><span class="pre">interface_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#scenario.BindAddress.interface_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the network interface.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.BindAddress.mac_address">
<span class="sig-name descname"><span class="pre">mac_address</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.BindAddress.mac_address" title="Permalink to this definition">¶</a></dt>
<dd><p>The MAC address of the interface.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.BlockedStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">BlockedStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#BlockedStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.BlockedStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_EntityStatus</span></code>, <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.BlockedStatus" title="(in The ops library)"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlockedStatus</span></code></a></p>
<p>The unit or application requires manual intervention.</p>
<p>Set this status when an administrator has to manually intervene to unblock
the charm to let it proceed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.BlockedStatus.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'blocked'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'blocked'</span></em><a class="headerlink" href="#scenario.BlockedStatus.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.CheckInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">CheckInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#CheckInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.CheckInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>A health check for a Pebble workload container.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CheckInfo.failures">
<span class="sig-name descname"><span class="pre">failures</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#scenario.CheckInfo.failures" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of failures since the check last succeeded.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CheckInfo.level">
<span class="sig-name descname"><span class="pre">level</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.CheckLevel" title="(in The ops library)"><span class="pre">CheckLevel</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.CheckInfo.level" title="Permalink to this definition">¶</a></dt>
<dd><p>Level of the check.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CheckInfo.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.CheckInfo.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the check.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CheckInfo.status">
<span class="sig-name descname"><span class="pre">status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.CheckStatus" title="(in The ops library)"><span class="pre">CheckStatus</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'up'</span></em><a class="headerlink" href="#scenario.CheckInfo.status" title="Permalink to this definition">¶</a></dt>
<dd><p>Status of the check.</p>
<p><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.CheckStatus.UP" title="(in The ops library)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ops.pebble.CheckStatus.UP</span></code></a> means the check is healthy (the number of
failures is fewer than the threshold), <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.CheckStatus.DOWN" title="(in The ops library)"><code class="xref py py-attr docutils literal notranslate"><span class="pre">ops.pebble.CheckStatus.DOWN</span></code></a>
means the check is unhealthy (the number of failures has reached the
threshold).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CheckInfo.threshold">
<span class="sig-name descname"><span class="pre">threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3</span></em><a class="headerlink" href="#scenario.CheckInfo.threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>Failure threshold.</p>
<p>This is how many consecutive failures for the check to be considered ‘down’.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.CloudCredential">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">CloudCredential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#CloudCredential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.CloudCredential" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>Credentials for cloud.</p>
<p>Used as the type of attribute <cite>credential</cite> in <a class="reference internal" href="#scenario.CloudSpec" title="scenario.CloudSpec"><code class="xref py py-class docutils literal notranslate"><span class="pre">CloudSpec</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudCredential.attributes">
<span class="sig-name descname"><span class="pre">attributes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.CloudCredential.attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>A dictionary containing cloud credentials.
For example, for AWS, it contains <cite>access-key</cite> and <cite>secret-key</cite>;
for Azure, <cite>application-id</cite>, <cite>application-password</cite> and <cite>subscription-id</cite>
can be found here.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudCredential.auth_type">
<span class="sig-name descname"><span class="pre">auth_type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.CloudCredential.auth_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Authentication type.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudCredential.redacted">
<span class="sig-name descname"><span class="pre">redacted</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.CloudCredential.redacted" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of redacted generic cloud API secrets.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.CloudSpec">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">CloudSpec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#CloudSpec"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.CloudSpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>Cloud specification information (metadata) including credentials.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.ca_certificates">
<span class="sig-name descname"><span class="pre">ca_certificates</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.CloudSpec.ca_certificates" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of CA certificates.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.credential">
<span class="sig-name descname"><span class="pre">credential</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.CloudCredential" title="scenario.state.CloudCredential"><span class="pre">CloudCredential</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.CloudSpec.credential" title="Permalink to this definition">¶</a></dt>
<dd><p>Cloud credentials with key-value attributes.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.endpoint">
<span class="sig-name descname"><span class="pre">endpoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.CloudSpec.endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Endpoint of the cloud.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.identity_endpoint">
<span class="sig-name descname"><span class="pre">identity_endpoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.CloudSpec.identity_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Identity endpoint of the cloud.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.is_controller_cloud">
<span class="sig-name descname"><span class="pre">is_controller_cloud</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#scenario.CloudSpec.is_controller_cloud" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is the cloud used by the controller.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'localhost'</span></em><a class="headerlink" href="#scenario.CloudSpec.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Juju cloud name.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.region">
<span class="sig-name descname"><span class="pre">region</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.CloudSpec.region" title="Permalink to this definition">¶</a></dt>
<dd><p>Region of the cloud.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.skip_tls_verify">
<span class="sig-name descname"><span class="pre">skip_tls_verify</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#scenario.CloudSpec.skip_tls_verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether to skip TLS verfication.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.storage_endpoint">
<span class="sig-name descname"><span class="pre">storage_endpoint</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.CloudSpec.storage_endpoint" title="Permalink to this definition">¶</a></dt>
<dd><p>Storage endpoint of the cloud.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.CloudSpec.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.CloudSpec.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of the cloud.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Container">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Container"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Container" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>A Kubernetes container where a charm’s workload runs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Container.can_connect">
<span class="sig-name descname"><span class="pre">can_connect</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#scenario.Container.can_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>When False, all Pebble operations will fail.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Container.check_infos">
<span class="sig-name descname"><span class="pre">check_infos</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.FrozenSet" title="(in Python v3.12)"><span class="pre">FrozenSet</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.CheckInfo" title="scenario.state.CheckInfo"><span class="pre">CheckInfo</span></a><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">frozenset({})</span></em><a class="headerlink" href="#scenario.Container.check_infos" title="Permalink to this definition">¶</a></dt>
<dd><p>All Pebble health checks that have been added to the container.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Container.exec_mock">
<span class="sig-name descname"><span class="pre">exec_mock</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.ExecOutput" title="scenario.state.ExecOutput"><span class="pre">ExecOutput</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Container.exec_mock" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate executing commands in the container.</p>
<p>Specify each command the charm might run in the container and a <a class="reference internal" href="#scenario.ExecOutput" title="scenario.ExecOutput"><code class="xref py py-class docutils literal notranslate"><span class="pre">ExecOutput</span></code></a>
containing its return code and any stdout/stderr.</p>
<p>For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">container</span> <span class="o">=</span> <span class="n">Container</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s1">&#39;foo&#39;</span><span class="p">,</span>
    <span class="n">exec_mock</span><span class="o">=</span><span class="p">{</span>
        <span class="p">(</span><span class="s1">&#39;whoami&#39;</span><span class="p">,</span> <span class="p">):</span> <span class="n">ExecOutput</span><span class="p">(</span><span class="n">return_code</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="s1">&#39;ubuntu&#39;</span><span class="p">)</span>
        <span class="p">(</span><span class="s1">&#39;dig&#39;</span><span class="p">,</span> <span class="s1">&#39;+short&#39;</span><span class="p">,</span> <span class="s1">&#39;canonical.com&#39;</span><span class="p">):</span>
            <span class="n">ExecOutput</span><span class="p">(</span><span class="n">return_code</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">stdout</span><span class="o">=</span><span class="s1">&#39;185.125.190.20</span><span class="se">\n</span><span class="s1">185.125.190.21&#39;</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.Container.get_filesystem">
<span class="sig-name descname"><span class="pre">get_filesystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#scenario.Context" title="scenario.Context"><span class="pre">Context</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#Container.get_filesystem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Container.get_filesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulated Pebble filesystem in this context.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A temporary filesystem containing any files or directories the
charm pushed to the container.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Container.layers">
<span class="sig-name descname"><span class="pre">layers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.Layer" title="(in The ops library)"><span class="pre">Layer</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Container.layers" title="Permalink to this definition">¶</a></dt>
<dd><p>All <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.Layer" title="(in The ops library)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ops.pebble.Layer</span></code></a> definitions that have already been added to the container.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Container.mounts">
<span class="sig-name descname"><span class="pre">mounts</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.Mount" title="scenario.state.Mount"><span class="pre">Mount</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Container.mounts" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides access to the contents of the simulated container filesystem.</p>
<p>For example, suppose you want to express that your container has:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/home/foo/bar.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/bin/bash</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/bin/baz</span></code></p></li>
</ul>
<p>this becomes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mounts</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;foo&#39;</span><span class="p">:</span> <span class="n">Mount</span><span class="p">(</span><span class="s1">&#39;/home/foo&#39;</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/path/to/local/dir/containing/bar/py/&#39;</span><span class="p">)),</span>
    <span class="s1">&#39;bin&#39;</span><span class="p">:</span> <span class="n">Mount</span><span class="p">(</span><span class="s1">&#39;/bin/&#39;</span><span class="p">,</span> <span class="n">pathlib</span><span class="o">.</span><span class="n">Path</span><span class="p">(</span><span class="s1">&#39;/path/to/local/dir/containing/bash/and/baz/&#39;</span><span class="p">)),</span>
<span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Container.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Container.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the container, as found in the charm metadata.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Container.notices">
<span class="sig-name descname"><span class="pre">notices</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Notice" title="scenario.state.Notice"><span class="pre">Notice</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Container.notices" title="Permalink to this definition">¶</a></dt>
<dd><p>Any Pebble notices that already exist in the container.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scenario.Container.plan">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">plan</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.Plan" title="(in The ops library)"><span class="pre">Plan</span></a></em><a class="headerlink" href="#scenario.Container.plan" title="Permalink to this definition">¶</a></dt>
<dd><p>The ‘computed’ Pebble plan.</p>
<p>This is the base plan plus the layers that have been added on top.
You should run your assertions on this plan, not so much on the layers,
as those are input data.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Container.service_status">
<span class="sig-name descname"><span class="pre">service_status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.ServiceStatus" title="(in The ops library)"><span class="pre">ServiceStatus</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Container.service_status" title="Permalink to this definition">¶</a></dt>
<dd><p>The current status of each Pebble service running in the container.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scenario.Container.services">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">services</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.ServiceInfo" title="(in The ops library)"><span class="pre">ServiceInfo</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Container.services" title="Permalink to this definition">¶</a></dt>
<dd><p>The Pebble services as rendered in the plan.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Context">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">charm_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.12)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">CharmType</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charm_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">juju_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'3.4'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capture_deferred_events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capture_framework_events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_trusted</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#Context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Context" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Represents a simulated charm’s execution context.</p>
<p>The main entry point to running a test. It contains:</p>
<ul class="simple">
<li><p>the charm source code being executed</p></li>
<li><p>the metadata files associated with it</p></li>
<li><p>a charm project repository root</p></li>
<li><p>the Juju version to be simulated</p></li>
</ul>
<p>After you have instantiated <code class="docutils literal notranslate"><span class="pre">Context</span></code>, typically you will call <a class="reference internal" href="#scenario.Context.run" title="scenario.Context.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> to execute the
charm once, write any assertions you like on the output state returned by the call, write any
assertions you like on the <code class="docutils literal notranslate"><span class="pre">Context</span></code> attributes, then discard the <code class="docutils literal notranslate"><span class="pre">Context</span></code>.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">Context</span></code> instance is in principle designed to be single-use:
<code class="docutils literal notranslate"><span class="pre">Context</span></code> is not cleaned up automatically between charm runs.</p>
<p>Any side effects generated by executing the charm, that are not rightful part of the
<code class="docutils literal notranslate"><span class="pre">State</span></code>, are in fact stored in the <code class="docutils literal notranslate"><span class="pre">Context</span></code>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#scenario.Context.juju_log" title="scenario.Context.juju_log"><code class="xref py py-attr docutils literal notranslate"><span class="pre">juju_log</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.Context.app_status_history" title="scenario.Context.app_status_history"><code class="xref py py-attr docutils literal notranslate"><span class="pre">app_status_history</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.Context.unit_status_history" title="scenario.Context.unit_status_history"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unit_status_history</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.Context.workload_version_history" title="scenario.Context.workload_version_history"><code class="xref py py-attr docutils literal notranslate"><span class="pre">workload_version_history</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.Context.removed_secret_revisions" title="scenario.Context.removed_secret_revisions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">removed_secret_revisions</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.Context.requested_storages" title="scenario.Context.requested_storages"><code class="xref py py-attr docutils literal notranslate"><span class="pre">requested_storages</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.Context.emitted_events" title="scenario.Context.emitted_events"><code class="xref py py-attr docutils literal notranslate"><span class="pre">emitted_events</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.Context.action_logs" title="scenario.Context.action_logs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action_logs</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.Context.action_results" title="scenario.Context.action_results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action_results</span></code></a></p></li>
</ul>
<p>This allows you to write assertions not only on the output state, but also, to some
extent, on the path the charm took to get there.</p>
<p>A typical test will look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">charm</span> <span class="kn">import</span> <span class="n">MyCharm</span><span class="p">,</span> <span class="n">MyCustomEvent</span>  <span class="c1"># noqa</span>

<span class="k">def</span> <span class="nf">test_foo</span><span class="p">():</span>
    <span class="c1"># Arrange: set the context up</span>
    <span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">MyCharm</span><span class="p">)</span>
    <span class="c1"># Act: prepare the state and emit an event</span>
    <span class="n">state_out</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">on</span><span class="o">.</span><span class="n">update_status</span><span class="p">(),</span> <span class="n">State</span><span class="p">())</span>
    <span class="c1"># Assert: verify the output state is what you think it should be</span>
    <span class="k">assert</span> <span class="n">state_out</span><span class="o">.</span><span class="n">unit_status</span> <span class="o">==</span> <span class="n">ActiveStatus</span><span class="p">(</span><span class="s1">&#39;foobar&#39;</span><span class="p">)</span>
    <span class="c1"># Assert: verify the Context contains what you think it should</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">emitted_events</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">emitted_events</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">MyCustomEvent</span><span class="p">)</span>
</pre></div>
</div>
<p>If you need access to the charm object that will handle the event, use the
class in a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement, like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_foo</span><span class="p">():</span>
    <span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">MyCharm</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">ctx</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">on</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">State</span><span class="p">())</span> <span class="k">as</span> <span class="n">manager</span><span class="p">:</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">charm</span><span class="o">.</span><span class="n">_some_private_setup</span><span class="p">()</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="scenario.Context.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_Event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#scenario.State" title="scenario.State"><span class="pre">State</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#Context.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Context.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Context manager to introspect live charm object before and after the event is emitted.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">MyCharm</span><span class="p">)</span>
<span class="k">with</span> <span class="n">ctx</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">on</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">State</span><span class="p">())</span> <span class="k">as</span> <span class="n">manager</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">charm</span><span class="o">.</span><span class="n">_some_private_setup</span><span class="p">()</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>  <span class="c1"># this will fire the event</span>
    <span class="k">assert</span> <span class="n">manager</span><span class="o">.</span><span class="n">charm</span><span class="o">.</span><span class="n">_some_private_attribute</span> <span class="o">==</span> <span class="s2">&quot;bar&quot;</span>  <span class="c1"># noqa</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – the event that the charm will respond to.</p></li>
<li><p><strong>state</strong> – the <a class="reference internal" href="#scenario.State" title="scenario.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a> instance to use when handling the event.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.action_logs">
<span class="sig-name descname"><span class="pre">action_logs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Context.action_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>The logs associated with the action output, set by the charm with <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.ActionEvent.log" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ops.ActionEvent.log()</span></code></a></p>
<p>This will be empty when handling a non-action event.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.action_results">
<span class="sig-name descname"><span class="pre">action_results</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><a class="headerlink" href="#scenario.Context.action_results" title="Permalink to this definition">¶</a></dt>
<dd><p>A key-value mapping assigned by the charm as a result of the action.</p>
<p>This will be <code class="docutils literal notranslate"><span class="pre">None</span></code> if the charm never calls <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.ActionEvent.set_results" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ops.ActionEvent.set_results()</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.app_status_history">
<span class="sig-name descname"><span class="pre">app_status_history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_EntityStatus</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Context.app_status_history" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the app statuses the charm has set</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.emitted_events">
<span class="sig-name descname"><span class="pre">emitted_events</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.EventBase" title="(in The ops library)"><span class="pre">EventBase</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Context.emitted_events" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the events (including custom) that the charm has processed</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.juju_log">
<span class="sig-name descname"><span class="pre">juju_log</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.JujuLogLine" title="scenario.state.JujuLogLine"><span class="pre">JujuLogLine</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Context.juju_log" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of what the charm has sent to juju-log</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.on">
<span class="sig-name descname"><span class="pre">on</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="context.html#scenario.context.CharmEvents" title="scenario.context.CharmEvents"><span class="pre">CharmEvents</span></a></em><a class="headerlink" href="#scenario.Context.on" title="Permalink to this definition">¶</a></dt>
<dd><p>The events that this charm can respond to.</p>
<p>Use this when calling <a class="reference internal" href="#scenario.Context.run" title="scenario.Context.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> to specify the event to emit.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scenario.Context.output_state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#scenario.State" title="scenario.State"><span class="pre">State</span></a></em><a class="headerlink" href="#scenario.Context.output_state" title="Permalink to this definition">¶</a></dt>
<dd><p>The output state obtained by running an event on this context.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.12)"><strong>RuntimeError</strong></a> – if this <code class="docutils literal notranslate"><span class="pre">Context</span></code> hasn’t been <a class="reference internal" href="#scenario.Context.run" title="scenario.Context.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> yet.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.removed_secret_revisions">
<span class="sig-name descname"><span class="pre">removed_secret_revisions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Context.removed_secret_revisions" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the secret revisions the charm has removed</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.requested_storages">
<span class="sig-name descname"><span class="pre">requested_storages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Context.requested_storages" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the storages the charm has requested</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.Context.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_Event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#scenario.State" title="scenario.State"><span class="pre">State</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#scenario.State" title="scenario.State"><span class="pre">State</span></a></span></span><a class="reference internal" href="_modules/scenario/context.html#Context.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Context.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger a charm execution with an event and a State.</p>
<p>Calling this function will call <code class="docutils literal notranslate"><span class="pre">ops.main</span></code> and set up the context according to the
specified <a class="reference internal" href="#scenario.State" title="scenario.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a>, then emit the event on the charm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – the event that the charm will respond to. Use the <a class="reference internal" href="#scenario.Context.on" title="scenario.Context.on"><code class="xref py py-attr docutils literal notranslate"><span class="pre">on</span></code></a> attribute to
specify the event; for example: <code class="docutils literal notranslate"><span class="pre">ctx.on.start()</span></code>.</p></li>
<li><p><strong>state</strong> – the <a class="reference internal" href="#scenario.State" title="scenario.State"><code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code></a> instance to use as data source for the hook tool calls that
the charm will invoke when handling the event.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.unit_status_history">
<span class="sig-name descname"><span class="pre">unit_status_history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_EntityStatus</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Context.unit_status_history" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the unit statuses the charm has set</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Context.workload_version_history">
<span class="sig-name descname"><span class="pre">workload_version_history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Context.workload_version_history" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the workload versions the charm has set</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.DeferredEvent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">DeferredEvent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handle_path:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">owner:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">observer:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">snapshot_data:</span> <span class="pre">~typing.Dict</span> <span class="pre">=</span> <span class="pre">&lt;factory&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#DeferredEvent"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.DeferredEvent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>An event that has been deferred to run prior to the next Juju event.</p>
<p>In most cases, the <a class="reference internal" href="#scenario.deferred" title="scenario.deferred"><code class="xref py py-func docutils literal notranslate"><span class="pre">deferred()</span></code></a> function should be used to create a
<code class="docutils literal notranslate"><span class="pre">DeferredEvent</span></code> instance.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.DeferredEvent.handle_path">
<span class="sig-name descname"><span class="pre">handle_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.DeferredEvent.handle_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scenario.DeferredEvent.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#scenario.DeferredEvent.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.DeferredEvent.observer">
<span class="sig-name descname"><span class="pre">observer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.DeferredEvent.observer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.DeferredEvent.owner">
<span class="sig-name descname"><span class="pre">owner</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.DeferredEvent.owner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.DeferredEvent.snapshot_data">
<span class="sig-name descname"><span class="pre">snapshot_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a></em><a class="headerlink" href="#scenario.DeferredEvent.snapshot_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.ErrorStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">ErrorStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#ErrorStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.ErrorStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_EntityStatus</span></code>, <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.ErrorStatus" title="(in The ops library)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorStatus</span></code></a></p>
<p>The unit status is error.</p>
<p>The unit-agent has encountered an error (the application or unit requires
human intervention in order to operate correctly).</p>
<p>This status is read-only; trying to set unit or application status to
<code class="docutils literal notranslate"><span class="pre">ErrorStatus</span></code> will raise <code class="xref py py-class docutils literal notranslate"><span class="pre">ModelError</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.ErrorStatus.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'error'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'error'</span></em><a class="headerlink" href="#scenario.ErrorStatus.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.ExecOutput">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">ExecOutput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#ExecOutput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.ExecOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>Mock data for simulated <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.Container.exec" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ops.Container.exec()</span></code></a> calls.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.ExecOutput.return_code">
<span class="sig-name descname"><span class="pre">return_code</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#scenario.ExecOutput.return_code" title="Permalink to this definition">¶</a></dt>
<dd><p>The return code of the process (0 is success).</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.ExecOutput.stderr">
<span class="sig-name descname"><span class="pre">stderr</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#scenario.ExecOutput.stderr" title="Permalink to this definition">¶</a></dt>
<dd><p>Any content written to stderr by the process.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.ExecOutput.stdout">
<span class="sig-name descname"><span class="pre">stdout</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#scenario.ExecOutput.stdout" title="Permalink to this definition">¶</a></dt>
<dd><p>Any content written to stdout by the process.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.ICMPPort">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">ICMPPort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#ICMPPort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.ICMPPort" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="state.html#scenario.state.Port" title="scenario.state.Port"><code class="xref py py-class docutils literal notranslate"><span class="pre">Port</span></code></a></p>
<p>Represents an ICMP port on the charm host.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.MaintenanceStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">MaintenanceStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#MaintenanceStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.MaintenanceStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_EntityStatus</span></code>, <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.MaintenanceStatus" title="(in The ops library)"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaintenanceStatus</span></code></a></p>
<p>The unit or application is performing maintenance tasks.</p>
<p>Set this status when the charm is performing an operation such as
<code class="docutils literal notranslate"><span class="pre">apt</span> <span class="pre">install</span></code>, or is waiting for something under its control, such as
<code class="docutils literal notranslate"><span class="pre">pebble-ready</span></code> or an exec operation in the workload container. In
contrast to <a class="reference internal" href="#scenario.WaitingStatus" title="scenario.WaitingStatus"><code class="xref py py-class docutils literal notranslate"><span class="pre">WaitingStatus</span></code></a>, “maintenance” reflects activity on
this unit or charm, not on peers or related units.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.MaintenanceStatus.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'maintenance'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'maintenance'</span></em><a class="headerlink" href="#scenario.MaintenanceStatus.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Manager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Manager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#scenario.Context" title="scenario.Context"><span class="pre">Context</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_Event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#scenario.State" title="scenario.State"><span class="pre">State</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#Manager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Context manager to offer test code some runtime charm object introspection.</p>
<p>This class should not be instantiated directly: use a <a class="reference internal" href="#scenario.Context" title="scenario.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>
in a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement instead, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">MyCharm</span><span class="p">)</span>
<span class="k">with</span> <span class="n">ctx</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">on</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">State</span><span class="p">())</span> <span class="k">as</span> <span class="n">manager</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">charm</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="scenario.Manager.charm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">charm</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.CharmBase" title="(in The ops library)"><span class="pre">CharmBase</span></a></em><a class="headerlink" href="#scenario.Manager.charm" title="Permalink to this definition">¶</a></dt>
<dd><p>The charm object instantiated by ops to handle the event.</p>
<p>The charm is only available during the context manager scope.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.Manager.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#scenario.State" title="scenario.State"><span class="pre">State</span></a></span></span><a class="reference internal" href="_modules/scenario/context.html#Manager.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Manager.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit the event and proceed with charm execution.</p>
<p>This can only be done once.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Model">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Model</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Model"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>The Juju model in which the charm is deployed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Model.cloud_spec">
<span class="sig-name descname"><span class="pre">cloud_spec</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.CloudSpec" title="scenario.state.CloudSpec"><span class="pre">CloudSpec</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Model.cloud_spec" title="Permalink to this definition">¶</a></dt>
<dd><p>Cloud specification information (metadata) including credentials.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Model.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Model.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Model.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'kubernetes'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'lxd'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'kubernetes'</span></em><a class="headerlink" href="#scenario.Model.type" title="Permalink to this definition">¶</a></dt>
<dd><p>The type of Juju model.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Model.uuid">
<span class="sig-name descname"><span class="pre">uuid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Model.uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>A unique identifier for the model, typically generated by Juju.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Mount">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Mount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Mount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Mount" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>Maps local files to a <a class="reference internal" href="#scenario.Container" title="scenario.Container"><code class="xref py py-class docutils literal notranslate"><span class="pre">Container</span></code></a> filesystem.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Mount.location">
<span class="sig-name descname"><span class="pre">location</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.PurePosixPath" title="(in Python v3.12)"><span class="pre">PurePosixPath</span></a></em><a class="headerlink" href="#scenario.Mount.location" title="Permalink to this definition">¶</a></dt>
<dd><p>The location inside of the container.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Mount.source">
<span class="sig-name descname"><span class="pre">source</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a></em><a class="headerlink" href="#scenario.Mount.source" title="Permalink to this definition">¶</a></dt>
<dd><p>The content to provide when the charm does <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.Container.pull" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ops.Container.pull()</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Network">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Network"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Network" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>A Juju network space.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Network.bind_addresses">
<span class="sig-name descname"><span class="pre">bind_addresses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.BindAddress" title="scenario.state.BindAddress"><span class="pre">BindAddress</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Network.bind_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>Addresses that the charm’s application should bind to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Network.binding_name">
<span class="sig-name descname"><span class="pre">binding_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Network.binding_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the network space.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Network.egress_subnets">
<span class="sig-name descname"><span class="pre">egress_subnets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Network.egress_subnets" title="Permalink to this definition">¶</a></dt>
<dd><p>Subnets that other units will see the charm connecting from.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Network.ingress_addresses">
<span class="sig-name descname"><span class="pre">ingress_addresses</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Network.ingress_addresses" title="Permalink to this definition">¶</a></dt>
<dd><p>Addresses other applications should use to connect to the unit.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Notice">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Notice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Notice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Notice" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>A Pebble notice.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.expire_after">
<span class="sig-name descname"><span class="pre">expire_after</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><span class="pre">timedelta</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Notice.expire_after" title="Permalink to this definition">¶</a></dt>
<dd><p>How long since one of these last occurred until Pebble will drop the notice.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.first_occurred">
<span class="sig-name descname"><span class="pre">first_occurred</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.12)"><span class="pre">datetime</span></a></em><a class="headerlink" href="#scenario.Notice.first_occurred" title="Permalink to this definition">¶</a></dt>
<dd><p>The first time one of these notices (type and key combination) occurs.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Notice.id" title="Permalink to this definition">¶</a></dt>
<dd><p>Unique ID for this notice.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.key">
<span class="sig-name descname"><span class="pre">key</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Notice.key" title="Permalink to this definition">¶</a></dt>
<dd><p>The notice key, a string that differentiates notices of this type.</p>
<p>This is in the format <code class="docutils literal notranslate"><span class="pre">domain/path</span></code>; for example:
<code class="docutils literal notranslate"><span class="pre">canonical.com/postgresql/backup</span></code> or <code class="docutils literal notranslate"><span class="pre">example.com/mycharm/notice</span></code>.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.last_data">
<span class="sig-name descname"><span class="pre">last_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Notice.last_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Additional data captured from the last occurrence of one of these notices.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.last_occurred">
<span class="sig-name descname"><span class="pre">last_occurred</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.12)"><span class="pre">datetime</span></a></em><a class="headerlink" href="#scenario.Notice.last_occurred" title="Permalink to this definition">¶</a></dt>
<dd><p>The last time one of these notices occurred.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.last_repeated">
<span class="sig-name descname"><span class="pre">last_repeated</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.12)"><span class="pre">datetime</span></a></em><a class="headerlink" href="#scenario.Notice.last_repeated" title="Permalink to this definition">¶</a></dt>
<dd><p>The time this notice was last repeated.</p>
<p>See Pebble’s <a class="reference external" href="https://github.com/canonical/pebble/#notices">Notices documentation</a>
for an explanation of what “repeated” means.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.occurrences">
<span class="sig-name descname"><span class="pre">occurrences</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#scenario.Notice.occurrences" title="Permalink to this definition">¶</a></dt>
<dd><p>The number of times one of these notices has occurred.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.repeat_after">
<span class="sig-name descname"><span class="pre">repeat_after</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.timedelta" title="(in Python v3.12)"><span class="pre">timedelta</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Notice.repeat_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Minimum time after one of these was last repeated before Pebble will repeat it again.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.type">
<span class="sig-name descname"><span class="pre">type</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.pebble.NoticeType" title="(in The ops library)"><span class="pre">NoticeType</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'custom'</span></em><a class="headerlink" href="#scenario.Notice.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of the notice.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Notice.user_id">
<span class="sig-name descname"><span class="pre">user_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Notice.user_id" title="Permalink to this definition">¶</a></dt>
<dd><p>UID of the user who may view this notice (None means notice is public).</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.PeerRelation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">PeerRelation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#PeerRelation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.PeerRelation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="state.html#scenario.state.RelationBase" title="scenario.state.RelationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelationBase</span></code></a></p>
<p>A relation to share data between units of the charm.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.PeerRelation.peers_data">
<span class="sig-name descname"><span class="pre">peers_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.PeerRelation.peers_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Current contents of the peer databags.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Relation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Relation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Relation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Relation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="state.html#scenario.state.RelationBase" title="scenario.state.RelationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelationBase</span></code></a></p>
<p>An integration between the charm and another application.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Relation.limit">
<span class="sig-name descname"><span class="pre">limit</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#scenario.Relation.limit" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of integrations on this endpoint.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Relation.remote_app_data">
<span class="sig-name descname"><span class="pre">remote_app_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Relation.remote_app_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The current content of the application databag.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Relation.remote_app_name">
<span class="sig-name descname"><span class="pre">remote_app_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'remote'</span></em><a class="headerlink" href="#scenario.Relation.remote_app_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the remote application, as in the charm’s metadata.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Relation.remote_units_data">
<span class="sig-name descname"><span class="pre">remote_units_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Relation.remote_units_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The current content of the databag for each unit in the relation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Resource">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Resource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Resource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Resource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>Represents a resource made available to the charm.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Resource.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Resource.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the resource, as found in the charm metadata.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Resource.path">
<span class="sig-name descname"><span class="pre">path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a></em><a class="headerlink" href="#scenario.Resource.path" title="Permalink to this definition">¶</a></dt>
<dd><p>A local path that will be provided to the charm as the content of the resource.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Secret">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Secret</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Secret"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Secret" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>A Juju secret.</p>
<p>This class is used for both user and charm secrets.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Secret.description">
<span class="sig-name descname"><span class="pre">description</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Secret.description" title="Permalink to this definition">¶</a></dt>
<dd><p>A human-readable description of the secret.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Secret.expire">
<span class="sig-name descname"><span class="pre">expire</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/datetime.html#datetime.datetime" title="(in Python v3.12)"><span class="pre">datetime</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Secret.expire" title="Permalink to this definition">¶</a></dt>
<dd><p>The time at which the secret will expire.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Secret.id">
<span class="sig-name descname"><span class="pre">id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Secret.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The Juju ID of the secret.</p>
<p>This is automatically assigned and should not usually need to be explicitly set.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Secret.label">
<span class="sig-name descname"><span class="pre">label</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Secret.label" title="Permalink to this definition">¶</a></dt>
<dd><p>A human-readable label the charm can use to retrieve the secret.</p>
<p>If this is set, it implies that the charm has previously set the label.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Secret.latest_content">
<span class="sig-name descname"><span class="pre">latest_content</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Secret.latest_content" title="Permalink to this definition">¶</a></dt>
<dd><p>The content of the latest revision of the secret.</p>
<p>This is the content the charm will receive with a
<a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.Secret.peek_content" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ops.Secret.peek_content()</span></code></a> call.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Secret.owner">
<span class="sig-name descname"><span class="pre">owner</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'unit'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'app'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Secret.owner" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates if the secret is owned by <em>this</em> unit, <em>this</em> application, or
another application/unit.</p>
<p>If None, the implication is that read access to the secret has been granted
to this unit.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Secret.remote_grants">
<span class="sig-name descname"><span class="pre">remote_grants</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Set" title="(in Python v3.12)"><span class="pre">Set</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Secret.remote_grants" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping from relation IDs to remote units and applications to which this
secret has been granted.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Secret.rotate">
<span class="sig-name descname"><span class="pre">rotate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.SecretRotate" title="(in The ops library)"><span class="pre">SecretRotate</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.Secret.rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>The rotation policy for the secret.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Secret.tracked_content">
<span class="sig-name descname"><span class="pre">tracked_content</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.Secret.tracked_content" title="Permalink to this definition">¶</a></dt>
<dd><p>The content of the secret that the charm is currently tracking.</p>
<p>This is the content the charm will receive with a
<a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.Secret.get_content" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ops.Secret.get_content()</span></code></a> call.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.State">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">State</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#State"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>Represents the Juju-owned portion of a unit’s state.</p>
<p>Roughly speaking, it wraps all hook-tool- and pebble-mediated data a charm can access in its
lifecycle. For example, status-get will return data from <cite>State.status</cite>, is-leader will
return data from <cite>State.leader</cite>, and so on.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.app_status">
<span class="sig-name descname"><span class="pre">app_status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">_EntityStatus</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">UnknownStatus()</span></em><a class="headerlink" href="#scenario.State.app_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Status of the application.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.config">
<span class="sig-name descname"><span class="pre">config</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#float" title="(in Python v3.12)"><span class="pre">float</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.config" title="Permalink to this definition">¶</a></dt>
<dd><p>The present configuration of this charm.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.containers">
<span class="sig-name descname"><span class="pre">containers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Container" title="scenario.state.Container"><span class="pre">Container</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.containers" title="Permalink to this definition">¶</a></dt>
<dd><p>All containers (whether they can connect or not) that this charm is aware of.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.deferred">
<span class="sig-name descname"><span class="pre">deferred</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.DeferredEvent" title="scenario.state.DeferredEvent"><span class="pre">DeferredEvent</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.deferred" title="Permalink to this definition">¶</a></dt>
<dd><p>Events that have been deferred on this charm by some previous execution.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.get_container">
<span class="sig-name descname"><span class="pre">get_container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="state.html#scenario.state.Container" title="scenario.state.Container"><span class="pre">Container</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#State.get_container"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.get_container" title="Permalink to this definition">¶</a></dt>
<dd><p>Get container from this State, based on its name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.get_network">
<span class="sig-name descname"><span class="pre">get_network</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">binding_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="state.html#scenario.state.Network" title="scenario.state.Network"><span class="pre">Network</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#State.get_network"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.get_network" title="Permalink to this definition">¶</a></dt>
<dd><p>Get network from this State, based on its binding name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.get_relation">
<span class="sig-name descname"><span class="pre">get_relation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="state.html#scenario.state.Relation" title="scenario.state.Relation"><span class="pre">Relation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.PeerRelation" title="scenario.state.PeerRelation"><span class="pre">PeerRelation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.SubordinateRelation" title="scenario.state.SubordinateRelation"><span class="pre">SubordinateRelation</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#State.get_relation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.get_relation" title="Permalink to this definition">¶</a></dt>
<dd><p>Get relation from this State, based on the relation’s id.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.get_relations">
<span class="sig-name descname"><span class="pre">get_relations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.12)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Relation" title="scenario.state.Relation"><span class="pre">Relation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.PeerRelation" title="scenario.state.PeerRelation"><span class="pre">PeerRelation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.SubordinateRelation" title="scenario.state.SubordinateRelation"><span class="pre">SubordinateRelation</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/scenario/state.html#State.get_relations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.get_relations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all relations on this endpoint from the current state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.get_secret">
<span class="sig-name descname"><span class="pre">get_secret</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="state.html#scenario.state.Secret" title="scenario.state.Secret"><span class="pre">Secret</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#State.get_secret"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.get_secret" title="Permalink to this definition">¶</a></dt>
<dd><p>Get secret from this State, based on the secret’s id or label.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.get_storage">
<span class="sig-name descname"><span class="pre">get_storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">storage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="state.html#scenario.state.Storage" title="scenario.state.Storage"><span class="pre">Storage</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#State.get_storage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.get_storage" title="Permalink to this definition">¶</a></dt>
<dd><p>Get storage from this State, based on the storage’s name and index.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.get_stored_state">
<span class="sig-name descname"><span class="pre">get_stored_state</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stored_state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">/</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">owner_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="state.html#scenario.state.StoredState" title="scenario.state.StoredState"><span class="pre">StoredState</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#State.get_stored_state"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.get_stored_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Get stored state from this State, based on the stored state’s name and owner_path.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.leader">
<span class="sig-name descname"><span class="pre">leader</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#scenario.State.leader" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this charm has leadership.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.model">
<span class="sig-name descname"><span class="pre">model</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.Model" title="scenario.state.Model"><span class="pre">Model</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">Model(name='SKXXNM9yQDp4LbMaxPbC',</span> <span class="pre">uuid='c3a0c0f8-f78a-44e9-9640-983e09ff231c',</span> <span class="pre">type='kubernetes',</span> <span class="pre">cloud_spec=None)</span></em><a class="headerlink" href="#scenario.State.model" title="Permalink to this definition">¶</a></dt>
<dd><p>The model this charm lives in.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.networks">
<span class="sig-name descname"><span class="pre">networks</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Network" title="scenario.state.Network"><span class="pre">Network</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.networks" title="Permalink to this definition">¶</a></dt>
<dd><p>Manual overrides for any relation and extra bindings currently provisioned for this charm.
If a metadata-defined relation endpoint is not explicitly mapped to a Network in this field,
it will be defaulted.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p><cite>extra-bindings</cite> is a deprecated, regretful feature in Juju/ops. For completeness we
support it, but use at your own risk. If a metadata-defined extra-binding is left empty,
it will be defaulted.</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.opened_ports">
<span class="sig-name descname"><span class="pre">opened_ports</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Port" title="scenario.state.Port"><span class="pre">Port</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.opened_ports" title="Permalink to this definition">¶</a></dt>
<dd><p>Ports opened by Juju on this charm.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.planned_units">
<span class="sig-name descname"><span class="pre">planned_units</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#scenario.State.planned_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of non-dying planned units that are expected to be running this application.</p>
<p>Use with caution.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.relations">
<span class="sig-name descname"><span class="pre">relations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Relation" title="scenario.state.Relation"><span class="pre">Relation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.PeerRelation" title="scenario.state.PeerRelation"><span class="pre">PeerRelation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference internal" href="state.html#scenario.state.SubordinateRelation" title="scenario.state.SubordinateRelation"><span class="pre">SubordinateRelation</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.relations" title="Permalink to this definition">¶</a></dt>
<dd><p>All relations that currently exist for this charm.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.resources">
<span class="sig-name descname"><span class="pre">resources</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Resource" title="scenario.state.Resource"><span class="pre">Resource</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.resources" title="Permalink to this definition">¶</a></dt>
<dd><p>All resources that this charm can access.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.secrets">
<span class="sig-name descname"><span class="pre">secrets</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Secret" title="scenario.state.Secret"><span class="pre">Secret</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.secrets" title="Permalink to this definition">¶</a></dt>
<dd><p>The secrets this charm has access to (as an owner, or as a grantee).</p>
<p>The presence of a secret in this list entails that the charm can read it.
Whether it can manage it or not depends on the individual secret’s <cite>owner</cite> flag.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.storages">
<span class="sig-name descname"><span class="pre">storages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.Storage" title="scenario.state.Storage"><span class="pre">Storage</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.storages" title="Permalink to this definition">¶</a></dt>
<dd><p>All <strong>attached</strong> storage instances for this charm.</p>
<p>If a storage is not attached, omit it from this listing.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.stored_states">
<span class="sig-name descname"><span class="pre">stored_states</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Iterable" title="(in Python v3.12)"><span class="pre">Iterable</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.StoredState" title="scenario.state.StoredState"><span class="pre">StoredState</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.State.stored_states" title="Permalink to this definition">¶</a></dt>
<dd><p>Contents of a charm’s stored state.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.unit_status">
<span class="sig-name descname"><span class="pre">unit_status</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">_EntityStatus</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">UnknownStatus()</span></em><a class="headerlink" href="#scenario.State.unit_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Status of the unit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.with_can_connect">
<span class="sig-name descname"><span class="pre">with_can_connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_connect</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="state.html#scenario.state.State" title="scenario.state.State"><span class="pre">State</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#State.with_can_connect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.with_can_connect" title="Permalink to this definition">¶</a></dt>
<dd><p>A copy of the State with the can_connect attribute of a container updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.with_leadership">
<span class="sig-name descname"><span class="pre">with_leadership</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">leader</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="state.html#scenario.state.State" title="scenario.state.State"><span class="pre">State</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#State.with_leadership"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.with_leadership" title="Permalink to this definition">¶</a></dt>
<dd><p>A copy of the State with the leadership status updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.State.with_unit_status">
<span class="sig-name descname"><span class="pre">with_unit_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.StatusBase" title="(in The ops library)"><span class="pre">StatusBase</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="state.html#scenario.state.State" title="scenario.state.State"><span class="pre">State</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#State.with_unit_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.State.with_unit_status" title="Permalink to this definition">¶</a></dt>
<dd><p>A copy of the State with the unit status updated.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.State.workload_version">
<span class="sig-name descname"><span class="pre">workload_version</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#scenario.State.workload_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Workload version.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="scenario.StateValidationError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">StateValidationError</span></span><a class="reference internal" href="_modules/scenario/state.html#StateValidationError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.StateValidationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></a></p>
<p>Raised when individual parts of the State are inconsistent.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.Storage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">Storage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#Storage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Storage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>Represents an (attached) storage made available to the charm container.</p>
<dl class="py method">
<dt class="sig sig-object py" id="scenario.Storage.get_filesystem">
<span class="sig-name descname"><span class="pre">get_filesystem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#scenario.Context" title="scenario.Context"><span class="pre">Context</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/pathlib.html#pathlib.Path" title="(in Python v3.12)"><span class="pre">Path</span></a></span></span><a class="reference internal" href="_modules/scenario/state.html#Storage.get_filesystem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.Storage.get_filesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulated filesystem root in this context.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Storage.index">
<span class="sig-name descname"><span class="pre">index</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><a class="headerlink" href="#scenario.Storage.index" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of this storage instance.</p>
<p>For Kubernetes charms, this will always be 1. For machine charms, each new
Storage instance gets a new index.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.Storage.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.Storage.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the storage, as found in the charm metadata.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.StoredState">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">StoredState</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#StoredState"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.StoredState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_MaxPositionalArgs</span></code></p>
<p>Represents unit-local state that persists across events.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.StoredState.content">
<span class="sig-name descname"><span class="pre">content</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.StoredState.content" title="Permalink to this definition">¶</a></dt>
<dd><p>The content of the <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.StoredState" title="(in The ops library)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ops.StoredState</span></code></a> instance.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.StoredState.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'_stored'</span></em><a class="headerlink" href="#scenario.StoredState.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The attribute in the charm class where the state is stored.</p>
<p>For example, <code class="docutils literal notranslate"><span class="pre">_stored</span></code> in this class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyCharm</span><span class="p">(</span><span class="n">ops</span><span class="o">.</span><span class="n">CharmBase</span><span class="p">):</span>
    <span class="n">_stored</span> <span class="o">=</span> <span class="n">ops</span><span class="o">.</span><span class="n">StoredState</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.StoredState.owner_path">
<span class="sig-name descname"><span class="pre">owner_path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#scenario.StoredState.owner_path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path to the owner of this StoredState instance.</p>
<p>If None, the owner is the Framework. Otherwise, /-separated object names,
for example MyCharm/MyCharmLib.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.SubordinateRelation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">SubordinateRelation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#SubordinateRelation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.SubordinateRelation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="state.html#scenario.state.RelationBase" title="scenario.state.RelationBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">RelationBase</span></code></a></p>
<p>A relation to share data between a subordinate and a principal charm.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.SubordinateRelation.remote_app_data">
<span class="sig-name descname"><span class="pre">remote_app_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.SubordinateRelation.remote_app_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The current content of the remote application databag.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.SubordinateRelation.remote_app_name">
<span class="sig-name descname"><span class="pre">remote_app_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'remote'</span></em><a class="headerlink" href="#scenario.SubordinateRelation.remote_app_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the remote application that <em>this unit</em> is attached to.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.SubordinateRelation.remote_unit_data">
<span class="sig-name descname"><span class="pre">remote_unit_data</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.SubordinateRelation.remote_unit_data" title="Permalink to this definition">¶</a></dt>
<dd><p>The current content of the remote unit databag.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.SubordinateRelation.remote_unit_id">
<span class="sig-name descname"><span class="pre">remote_unit_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#scenario.SubordinateRelation.remote_unit_id" title="Permalink to this definition">¶</a></dt>
<dd><p>The ID of the remote unit that <em>this unit</em> is attached to.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scenario.SubordinateRelation.remote_unit_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remote_unit_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#scenario.SubordinateRelation.remote_unit_name" title="Permalink to this definition">¶</a></dt>
<dd><p>The full name of the remote unit, in the form <code class="docutils literal notranslate"><span class="pre">remote/0</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.TCPPort">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">TCPPort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#TCPPort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.TCPPort" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="state.html#scenario.state.Port" title="scenario.state.Port"><code class="xref py py-class docutils literal notranslate"><span class="pre">Port</span></code></a></p>
<p>Represents a TCP port on the charm host.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.UDPPort">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">UDPPort</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#UDPPort"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.UDPPort" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="state.html#scenario.state.Port" title="scenario.state.Port"><code class="xref py py-class docutils literal notranslate"><span class="pre">Port</span></code></a></p>
<p>Represents a UDP port on the charm host.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.UnknownStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">UnknownStatus</span></span><a class="reference internal" href="_modules/scenario/state.html#UnknownStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.UnknownStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_EntityStatus</span></code>, <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.UnknownStatus" title="(in The ops library)"><code class="xref py py-class docutils literal notranslate"><span class="pre">UnknownStatus</span></code></a></p>
<p>The unit status is unknown.</p>
<p>A unit-agent has finished calling install, config-changed and start, but the
charm has not called status-set yet.</p>
<p>This status is read-only; trying to set unit or application status to
<code class="docutils literal notranslate"><span class="pre">UnknownStatus</span></code> will raise <code class="xref py py-class docutils literal notranslate"><span class="pre">ModelError</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.UnknownStatus.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'unknown'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'unknown'</span></em><a class="headerlink" href="#scenario.UnknownStatus.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.WaitingStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">WaitingStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#WaitingStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.WaitingStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_EntityStatus</span></code>, <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.WaitingStatus" title="(in The ops library)"><code class="xref py py-class docutils literal notranslate"><span class="pre">WaitingStatus</span></code></a></p>
<p>The unit or application is waiting on a charm it’s integrated with.</p>
<p>Set this status when waiting on a charm this is integrated with. For
example, a web app charm would set “waiting” status when it is integrated
with a database charm that is not ready yet (it might be creating a
database). In contrast to <a class="reference internal" href="#scenario.MaintenanceStatus" title="scenario.MaintenanceStatus"><code class="xref py py-class docutils literal notranslate"><span class="pre">MaintenanceStatus</span></code></a>, “waiting” reflects
activity on related units, not on this unit or charm.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.WaitingStatus.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Literal" title="(in Python v3.12)"><span class="pre">Literal</span></a><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'waiting'</span></span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'waiting'</span></em><a class="headerlink" href="#scenario.WaitingStatus.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scenario.deferred">
<span class="sig-prename descclassname"><span class="pre">scenario.</span></span><span class="sig-name descname"><span class="pre">deferred</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">_Event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handler</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.12)"><span class="pre">Callable</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">relation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Relation" title="scenario.state.Relation"><span class="pre">Relation</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Container" title="scenario.state.Container"><span class="pre">Container</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Notice" title="scenario.state.Notice"><span class="pre">Notice</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.CheckInfo" title="scenario.state.CheckInfo"><span class="pre">CheckInfo</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/state.html#deferred"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.deferred" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a DeferredEvent from an Event or an event name.</p>
</dd></dl>

</section>
<section id="indices">
<h1>Indices<a class="headerlink" href="#indices" title="Permalink to this heading">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>

        </article>
      </div>
      <footer>
        
   

<div class="related-pages">
  
  
  
  
</div>
<div class="bottom-of-page">
  <div class="left-details">
    <div class="copyright">
        Copyright &#169; 2024, Canonical Ltd.
    </div>

    <div class="last-updated">
      Last updated on Aug 13, 2024</div>
    <div class="show-source">
      <a class="muted-link" href="_sources/index.rst.txt"
         rel="nofollow">Show source</a>
    </div>
  </div>
  <div class="right-details">

    

    
    <div class="ask-discourse">
      <a class="muted-link" href="https://discourse.charmhub.io/">Ask a question on Discourse</a>
    </div>
    

    

    
    <div class="ask-matrix">
      <a class="muted-link" href="https://matrix.to/#/#charmhub-charmdev:ubuntu.com">Ask a question on Matrix</a>
    </div>
    

    

    
    <div class="issue-github">
      <a class="muted-link" href="https://github.com/canonical/ops-scenario/issues/new?title=doc%3A+ADD+A+TITLE&body=DESCRIBE+THE+ISSUE%0A%0A---%0ADocument: index.rst">Open a GitHub issue for this page</a>
    </div>
    

    <div class="edit-github">
      <a class="muted-link" href="https://github.com/canonical/ops-scenario/edit/main/docs/index.rst">Edit this page on GitHub</a>
    </div>
    


    </div>
  </div>
</div>

      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
<div class="toc-sticky toc-scroll">
   
    <div class="toc-title-container">
      <span class="toc-title">
       Contents
      </span>
    </div>
    <div class="toc-tree-container">
      <div class="toc-tree">
        <ul>
<li><a class="reference internal" href="#">Scenario API reference</a></li>
<li><a class="reference internal" href="#module-scenario">scenario</a><ul>
<li><a class="reference internal" href="#scenario.ActionFailed"><code class="docutils literal notranslate"><span class="pre">ActionFailed</span></code></a></li>
<li><a class="reference internal" href="#scenario.ActiveStatus"><code class="docutils literal notranslate"><span class="pre">ActiveStatus</span></code></a><ul>
<li><a class="reference internal" href="#scenario.ActiveStatus.name"><code class="docutils literal notranslate"><span class="pre">ActiveStatus.name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Address"><code class="docutils literal notranslate"><span class="pre">Address</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Address.address"><code class="docutils literal notranslate"><span class="pre">Address.address</span></code></a></li>
<li><a class="reference internal" href="#scenario.Address.cidr"><code class="docutils literal notranslate"><span class="pre">Address.cidr</span></code></a></li>
<li><a class="reference internal" href="#scenario.Address.hostname"><code class="docutils literal notranslate"><span class="pre">Address.hostname</span></code></a></li>
<li><a class="reference internal" href="#scenario.Address.value"><code class="docutils literal notranslate"><span class="pre">Address.value</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.BindAddress"><code class="docutils literal notranslate"><span class="pre">BindAddress</span></code></a><ul>
<li><a class="reference internal" href="#scenario.BindAddress.addresses"><code class="docutils literal notranslate"><span class="pre">BindAddress.addresses</span></code></a></li>
<li><a class="reference internal" href="#scenario.BindAddress.interface_name"><code class="docutils literal notranslate"><span class="pre">BindAddress.interface_name</span></code></a></li>
<li><a class="reference internal" href="#scenario.BindAddress.mac_address"><code class="docutils literal notranslate"><span class="pre">BindAddress.mac_address</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.BlockedStatus"><code class="docutils literal notranslate"><span class="pre">BlockedStatus</span></code></a><ul>
<li><a class="reference internal" href="#scenario.BlockedStatus.name"><code class="docutils literal notranslate"><span class="pre">BlockedStatus.name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.CheckInfo"><code class="docutils literal notranslate"><span class="pre">CheckInfo</span></code></a><ul>
<li><a class="reference internal" href="#scenario.CheckInfo.failures"><code class="docutils literal notranslate"><span class="pre">CheckInfo.failures</span></code></a></li>
<li><a class="reference internal" href="#scenario.CheckInfo.level"><code class="docutils literal notranslate"><span class="pre">CheckInfo.level</span></code></a></li>
<li><a class="reference internal" href="#scenario.CheckInfo.name"><code class="docutils literal notranslate"><span class="pre">CheckInfo.name</span></code></a></li>
<li><a class="reference internal" href="#scenario.CheckInfo.status"><code class="docutils literal notranslate"><span class="pre">CheckInfo.status</span></code></a></li>
<li><a class="reference internal" href="#scenario.CheckInfo.threshold"><code class="docutils literal notranslate"><span class="pre">CheckInfo.threshold</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.CloudCredential"><code class="docutils literal notranslate"><span class="pre">CloudCredential</span></code></a><ul>
<li><a class="reference internal" href="#scenario.CloudCredential.attributes"><code class="docutils literal notranslate"><span class="pre">CloudCredential.attributes</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudCredential.auth_type"><code class="docutils literal notranslate"><span class="pre">CloudCredential.auth_type</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudCredential.redacted"><code class="docutils literal notranslate"><span class="pre">CloudCredential.redacted</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.CloudSpec"><code class="docutils literal notranslate"><span class="pre">CloudSpec</span></code></a><ul>
<li><a class="reference internal" href="#scenario.CloudSpec.ca_certificates"><code class="docutils literal notranslate"><span class="pre">CloudSpec.ca_certificates</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudSpec.credential"><code class="docutils literal notranslate"><span class="pre">CloudSpec.credential</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudSpec.endpoint"><code class="docutils literal notranslate"><span class="pre">CloudSpec.endpoint</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudSpec.identity_endpoint"><code class="docutils literal notranslate"><span class="pre">CloudSpec.identity_endpoint</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudSpec.is_controller_cloud"><code class="docutils literal notranslate"><span class="pre">CloudSpec.is_controller_cloud</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudSpec.name"><code class="docutils literal notranslate"><span class="pre">CloudSpec.name</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudSpec.region"><code class="docutils literal notranslate"><span class="pre">CloudSpec.region</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudSpec.skip_tls_verify"><code class="docutils literal notranslate"><span class="pre">CloudSpec.skip_tls_verify</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudSpec.storage_endpoint"><code class="docutils literal notranslate"><span class="pre">CloudSpec.storage_endpoint</span></code></a></li>
<li><a class="reference internal" href="#scenario.CloudSpec.type"><code class="docutils literal notranslate"><span class="pre">CloudSpec.type</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Container"><code class="docutils literal notranslate"><span class="pre">Container</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Container.can_connect"><code class="docutils literal notranslate"><span class="pre">Container.can_connect</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.check_infos"><code class="docutils literal notranslate"><span class="pre">Container.check_infos</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.exec_mock"><code class="docutils literal notranslate"><span class="pre">Container.exec_mock</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.get_filesystem"><code class="docutils literal notranslate"><span class="pre">Container.get_filesystem()</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.layers"><code class="docutils literal notranslate"><span class="pre">Container.layers</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.mounts"><code class="docutils literal notranslate"><span class="pre">Container.mounts</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.name"><code class="docutils literal notranslate"><span class="pre">Container.name</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.notices"><code class="docutils literal notranslate"><span class="pre">Container.notices</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.plan"><code class="docutils literal notranslate"><span class="pre">Container.plan</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.service_status"><code class="docutils literal notranslate"><span class="pre">Container.service_status</span></code></a></li>
<li><a class="reference internal" href="#scenario.Container.services"><code class="docutils literal notranslate"><span class="pre">Container.services</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Context"><code class="docutils literal notranslate"><span class="pre">Context</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Context.__call__"><code class="docutils literal notranslate"><span class="pre">Context.__call__()</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.action_logs"><code class="docutils literal notranslate"><span class="pre">Context.action_logs</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.action_results"><code class="docutils literal notranslate"><span class="pre">Context.action_results</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.app_status_history"><code class="docutils literal notranslate"><span class="pre">Context.app_status_history</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.emitted_events"><code class="docutils literal notranslate"><span class="pre">Context.emitted_events</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.juju_log"><code class="docutils literal notranslate"><span class="pre">Context.juju_log</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.on"><code class="docutils literal notranslate"><span class="pre">Context.on</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.output_state"><code class="docutils literal notranslate"><span class="pre">Context.output_state</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.removed_secret_revisions"><code class="docutils literal notranslate"><span class="pre">Context.removed_secret_revisions</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.requested_storages"><code class="docutils literal notranslate"><span class="pre">Context.requested_storages</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.run"><code class="docutils literal notranslate"><span class="pre">Context.run()</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.unit_status_history"><code class="docutils literal notranslate"><span class="pre">Context.unit_status_history</span></code></a></li>
<li><a class="reference internal" href="#scenario.Context.workload_version_history"><code class="docutils literal notranslate"><span class="pre">Context.workload_version_history</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.DeferredEvent"><code class="docutils literal notranslate"><span class="pre">DeferredEvent</span></code></a><ul>
<li><a class="reference internal" href="#scenario.DeferredEvent.handle_path"><code class="docutils literal notranslate"><span class="pre">DeferredEvent.handle_path</span></code></a></li>
<li><a class="reference internal" href="#scenario.DeferredEvent.name"><code class="docutils literal notranslate"><span class="pre">DeferredEvent.name</span></code></a></li>
<li><a class="reference internal" href="#scenario.DeferredEvent.observer"><code class="docutils literal notranslate"><span class="pre">DeferredEvent.observer</span></code></a></li>
<li><a class="reference internal" href="#scenario.DeferredEvent.owner"><code class="docutils literal notranslate"><span class="pre">DeferredEvent.owner</span></code></a></li>
<li><a class="reference internal" href="#scenario.DeferredEvent.snapshot_data"><code class="docutils literal notranslate"><span class="pre">DeferredEvent.snapshot_data</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.ErrorStatus"><code class="docutils literal notranslate"><span class="pre">ErrorStatus</span></code></a><ul>
<li><a class="reference internal" href="#scenario.ErrorStatus.name"><code class="docutils literal notranslate"><span class="pre">ErrorStatus.name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.ExecOutput"><code class="docutils literal notranslate"><span class="pre">ExecOutput</span></code></a><ul>
<li><a class="reference internal" href="#scenario.ExecOutput.return_code"><code class="docutils literal notranslate"><span class="pre">ExecOutput.return_code</span></code></a></li>
<li><a class="reference internal" href="#scenario.ExecOutput.stderr"><code class="docutils literal notranslate"><span class="pre">ExecOutput.stderr</span></code></a></li>
<li><a class="reference internal" href="#scenario.ExecOutput.stdout"><code class="docutils literal notranslate"><span class="pre">ExecOutput.stdout</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.ICMPPort"><code class="docutils literal notranslate"><span class="pre">ICMPPort</span></code></a></li>
<li><a class="reference internal" href="#scenario.MaintenanceStatus"><code class="docutils literal notranslate"><span class="pre">MaintenanceStatus</span></code></a><ul>
<li><a class="reference internal" href="#scenario.MaintenanceStatus.name"><code class="docutils literal notranslate"><span class="pre">MaintenanceStatus.name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Manager"><code class="docutils literal notranslate"><span class="pre">Manager</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Manager.charm"><code class="docutils literal notranslate"><span class="pre">Manager.charm</span></code></a></li>
<li><a class="reference internal" href="#scenario.Manager.run"><code class="docutils literal notranslate"><span class="pre">Manager.run()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Model"><code class="docutils literal notranslate"><span class="pre">Model</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Model.cloud_spec"><code class="docutils literal notranslate"><span class="pre">Model.cloud_spec</span></code></a></li>
<li><a class="reference internal" href="#scenario.Model.name"><code class="docutils literal notranslate"><span class="pre">Model.name</span></code></a></li>
<li><a class="reference internal" href="#scenario.Model.type"><code class="docutils literal notranslate"><span class="pre">Model.type</span></code></a></li>
<li><a class="reference internal" href="#scenario.Model.uuid"><code class="docutils literal notranslate"><span class="pre">Model.uuid</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Mount"><code class="docutils literal notranslate"><span class="pre">Mount</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Mount.location"><code class="docutils literal notranslate"><span class="pre">Mount.location</span></code></a></li>
<li><a class="reference internal" href="#scenario.Mount.source"><code class="docutils literal notranslate"><span class="pre">Mount.source</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Network"><code class="docutils literal notranslate"><span class="pre">Network</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Network.bind_addresses"><code class="docutils literal notranslate"><span class="pre">Network.bind_addresses</span></code></a></li>
<li><a class="reference internal" href="#scenario.Network.binding_name"><code class="docutils literal notranslate"><span class="pre">Network.binding_name</span></code></a></li>
<li><a class="reference internal" href="#scenario.Network.egress_subnets"><code class="docutils literal notranslate"><span class="pre">Network.egress_subnets</span></code></a></li>
<li><a class="reference internal" href="#scenario.Network.ingress_addresses"><code class="docutils literal notranslate"><span class="pre">Network.ingress_addresses</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Notice"><code class="docutils literal notranslate"><span class="pre">Notice</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Notice.expire_after"><code class="docutils literal notranslate"><span class="pre">Notice.expire_after</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.first_occurred"><code class="docutils literal notranslate"><span class="pre">Notice.first_occurred</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.id"><code class="docutils literal notranslate"><span class="pre">Notice.id</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.key"><code class="docutils literal notranslate"><span class="pre">Notice.key</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.last_data"><code class="docutils literal notranslate"><span class="pre">Notice.last_data</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.last_occurred"><code class="docutils literal notranslate"><span class="pre">Notice.last_occurred</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.last_repeated"><code class="docutils literal notranslate"><span class="pre">Notice.last_repeated</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.occurrences"><code class="docutils literal notranslate"><span class="pre">Notice.occurrences</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.repeat_after"><code class="docutils literal notranslate"><span class="pre">Notice.repeat_after</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.type"><code class="docutils literal notranslate"><span class="pre">Notice.type</span></code></a></li>
<li><a class="reference internal" href="#scenario.Notice.user_id"><code class="docutils literal notranslate"><span class="pre">Notice.user_id</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.PeerRelation"><code class="docutils literal notranslate"><span class="pre">PeerRelation</span></code></a><ul>
<li><a class="reference internal" href="#scenario.PeerRelation.peers_data"><code class="docutils literal notranslate"><span class="pre">PeerRelation.peers_data</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Relation"><code class="docutils literal notranslate"><span class="pre">Relation</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Relation.limit"><code class="docutils literal notranslate"><span class="pre">Relation.limit</span></code></a></li>
<li><a class="reference internal" href="#scenario.Relation.remote_app_data"><code class="docutils literal notranslate"><span class="pre">Relation.remote_app_data</span></code></a></li>
<li><a class="reference internal" href="#scenario.Relation.remote_app_name"><code class="docutils literal notranslate"><span class="pre">Relation.remote_app_name</span></code></a></li>
<li><a class="reference internal" href="#scenario.Relation.remote_units_data"><code class="docutils literal notranslate"><span class="pre">Relation.remote_units_data</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Resource"><code class="docutils literal notranslate"><span class="pre">Resource</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Resource.name"><code class="docutils literal notranslate"><span class="pre">Resource.name</span></code></a></li>
<li><a class="reference internal" href="#scenario.Resource.path"><code class="docutils literal notranslate"><span class="pre">Resource.path</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.Secret"><code class="docutils literal notranslate"><span class="pre">Secret</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Secret.description"><code class="docutils literal notranslate"><span class="pre">Secret.description</span></code></a></li>
<li><a class="reference internal" href="#scenario.Secret.expire"><code class="docutils literal notranslate"><span class="pre">Secret.expire</span></code></a></li>
<li><a class="reference internal" href="#scenario.Secret.id"><code class="docutils literal notranslate"><span class="pre">Secret.id</span></code></a></li>
<li><a class="reference internal" href="#scenario.Secret.label"><code class="docutils literal notranslate"><span class="pre">Secret.label</span></code></a></li>
<li><a class="reference internal" href="#scenario.Secret.latest_content"><code class="docutils literal notranslate"><span class="pre">Secret.latest_content</span></code></a></li>
<li><a class="reference internal" href="#scenario.Secret.owner"><code class="docutils literal notranslate"><span class="pre">Secret.owner</span></code></a></li>
<li><a class="reference internal" href="#scenario.Secret.remote_grants"><code class="docutils literal notranslate"><span class="pre">Secret.remote_grants</span></code></a></li>
<li><a class="reference internal" href="#scenario.Secret.rotate"><code class="docutils literal notranslate"><span class="pre">Secret.rotate</span></code></a></li>
<li><a class="reference internal" href="#scenario.Secret.tracked_content"><code class="docutils literal notranslate"><span class="pre">Secret.tracked_content</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.State"><code class="docutils literal notranslate"><span class="pre">State</span></code></a><ul>
<li><a class="reference internal" href="#scenario.State.app_status"><code class="docutils literal notranslate"><span class="pre">State.app_status</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.config"><code class="docutils literal notranslate"><span class="pre">State.config</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.containers"><code class="docutils literal notranslate"><span class="pre">State.containers</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.deferred"><code class="docutils literal notranslate"><span class="pre">State.deferred</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.get_container"><code class="docutils literal notranslate"><span class="pre">State.get_container()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.get_network"><code class="docutils literal notranslate"><span class="pre">State.get_network()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.get_relation"><code class="docutils literal notranslate"><span class="pre">State.get_relation()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.get_relations"><code class="docutils literal notranslate"><span class="pre">State.get_relations()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.get_secret"><code class="docutils literal notranslate"><span class="pre">State.get_secret()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.get_storage"><code class="docutils literal notranslate"><span class="pre">State.get_storage()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.get_stored_state"><code class="docutils literal notranslate"><span class="pre">State.get_stored_state()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.leader"><code class="docutils literal notranslate"><span class="pre">State.leader</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.model"><code class="docutils literal notranslate"><span class="pre">State.model</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.networks"><code class="docutils literal notranslate"><span class="pre">State.networks</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.opened_ports"><code class="docutils literal notranslate"><span class="pre">State.opened_ports</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.planned_units"><code class="docutils literal notranslate"><span class="pre">State.planned_units</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.relations"><code class="docutils literal notranslate"><span class="pre">State.relations</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.resources"><code class="docutils literal notranslate"><span class="pre">State.resources</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.secrets"><code class="docutils literal notranslate"><span class="pre">State.secrets</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.storages"><code class="docutils literal notranslate"><span class="pre">State.storages</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.stored_states"><code class="docutils literal notranslate"><span class="pre">State.stored_states</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.unit_status"><code class="docutils literal notranslate"><span class="pre">State.unit_status</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.with_can_connect"><code class="docutils literal notranslate"><span class="pre">State.with_can_connect()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.with_leadership"><code class="docutils literal notranslate"><span class="pre">State.with_leadership()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.with_unit_status"><code class="docutils literal notranslate"><span class="pre">State.with_unit_status()</span></code></a></li>
<li><a class="reference internal" href="#scenario.State.workload_version"><code class="docutils literal notranslate"><span class="pre">State.workload_version</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.StateValidationError"><code class="docutils literal notranslate"><span class="pre">StateValidationError</span></code></a></li>
<li><a class="reference internal" href="#scenario.Storage"><code class="docutils literal notranslate"><span class="pre">Storage</span></code></a><ul>
<li><a class="reference internal" href="#scenario.Storage.get_filesystem"><code class="docutils literal notranslate"><span class="pre">Storage.get_filesystem()</span></code></a></li>
<li><a class="reference internal" href="#scenario.Storage.index"><code class="docutils literal notranslate"><span class="pre">Storage.index</span></code></a></li>
<li><a class="reference internal" href="#scenario.Storage.name"><code class="docutils literal notranslate"><span class="pre">Storage.name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.StoredState"><code class="docutils literal notranslate"><span class="pre">StoredState</span></code></a><ul>
<li><a class="reference internal" href="#scenario.StoredState.content"><code class="docutils literal notranslate"><span class="pre">StoredState.content</span></code></a></li>
<li><a class="reference internal" href="#scenario.StoredState.name"><code class="docutils literal notranslate"><span class="pre">StoredState.name</span></code></a></li>
<li><a class="reference internal" href="#scenario.StoredState.owner_path"><code class="docutils literal notranslate"><span class="pre">StoredState.owner_path</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.SubordinateRelation"><code class="docutils literal notranslate"><span class="pre">SubordinateRelation</span></code></a><ul>
<li><a class="reference internal" href="#scenario.SubordinateRelation.remote_app_data"><code class="docutils literal notranslate"><span class="pre">SubordinateRelation.remote_app_data</span></code></a></li>
<li><a class="reference internal" href="#scenario.SubordinateRelation.remote_app_name"><code class="docutils literal notranslate"><span class="pre">SubordinateRelation.remote_app_name</span></code></a></li>
<li><a class="reference internal" href="#scenario.SubordinateRelation.remote_unit_data"><code class="docutils literal notranslate"><span class="pre">SubordinateRelation.remote_unit_data</span></code></a></li>
<li><a class="reference internal" href="#scenario.SubordinateRelation.remote_unit_id"><code class="docutils literal notranslate"><span class="pre">SubordinateRelation.remote_unit_id</span></code></a></li>
<li><a class="reference internal" href="#scenario.SubordinateRelation.remote_unit_name"><code class="docutils literal notranslate"><span class="pre">SubordinateRelation.remote_unit_name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.TCPPort"><code class="docutils literal notranslate"><span class="pre">TCPPort</span></code></a></li>
<li><a class="reference internal" href="#scenario.UDPPort"><code class="docutils literal notranslate"><span class="pre">UDPPort</span></code></a></li>
<li><a class="reference internal" href="#scenario.UnknownStatus"><code class="docutils literal notranslate"><span class="pre">UnknownStatus</span></code></a><ul>
<li><a class="reference internal" href="#scenario.UnknownStatus.name"><code class="docutils literal notranslate"><span class="pre">UnknownStatus.name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.WaitingStatus"><code class="docutils literal notranslate"><span class="pre">WaitingStatus</span></code></a><ul>
<li><a class="reference internal" href="#scenario.WaitingStatus.name"><code class="docutils literal notranslate"><span class="pre">WaitingStatus.name</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.deferred"><code class="docutils literal notranslate"><span class="pre">deferred()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices">Indices</a></li>
</ul>

      </div>
    </div>
   
    
  </div>

    </aside>
  </div>
</div><script src="_static/jquery.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/design-tabs.js"></script>
    <script src="_static/header-nav.js"></script>
    <script src="_static/github_issue_links.js"></script>
    
<script>
  const github_url = "https://github.com/canonical/ops-scenario";
</script>
</body>
</html>