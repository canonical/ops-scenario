<!doctype html>
<html class="no-js" lang="en" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<meta property="og:title" content="scenario.Context" />
<meta property="og:type" content="website" />
<meta property="og:url" content="context.html" />
<meta property="og:site_name" content="Scenario" />
<link rel="index" title="Index" href="genindex.html" /><link rel="search" title="Search" href="search.html" /><link rel="next" title="scenario.State" href="state.html" /><link rel="prev" title="Scenario API reference" href="index.html" />

    <link rel="shortcut icon" href="_static/favicon.png"/><!-- Generated with Sphinx 6.2.1 and Furo 2024.01.29 -->
        <title>scenario.Context - Scenario documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?digest=369552022d0b975c8e74270ce6eabe0fb7978f24" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/youtube.css" />
    <link rel="stylesheet" type="text/css" href="_static/related-links.css" />
    <link rel="stylesheet" type="text/css" href="_static/terminal-output.css" />
    <link rel="stylesheet" type="text/css" href="_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="_static/header.css" />
    <link rel="stylesheet" type="text/css" href="_static/github_issue_links.css" />
    <link rel="stylesheet" type="text/css" href="_static/furo_colors.css" />
    
</head>
  <body>
    <header id="header" class="p-navigation">

  <div class="p-navigation__nav" role="menubar">

    <ul class="p-navigation__links" role="menu">

      <li>
        <a class="p-logo" href="https://juju.is/docs/sdk" aria-current="page">
          <img src="_static/tag.png" alt="Logo" class="p-logo-image">
          <div class="p-logo-text p-heading--4">Scenario
          </div>
        </a>
      </li>

      <li class="nav-ubuntu-com">
        <a href="https://juju.is/docs/sdk" class="p-navigation__link">juju.is/docs/sdk</a>
      </li>

      <li>
        <a href="#" class="p-navigation__link nav-more-links">More resources</a>
        <ul class="more-links-dropdown">

          <li>
            <a href="https://discourse.charmhub.io/" class="p-navigation__sub-link p-dropdown__link">Forum</a>
          </li>

          <li>
            <a href="https://github.com/canonical/ops-scenario" class="p-navigation__sub-link p-dropdown__link">GitHub</a>
          </li>

        </ul>
      </li>

    </ul>
  </div>
</header>
   
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">Scenario documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  
  <span class="sidebar-brand-text">Scenario documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
    <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
    <input type="submit" value="Go">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
  <div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">scenario.Context</a></li>
<li class="toctree-l1"><a class="reference internal" href="state.html">scenario.State</a></li>
<li class="toctree-l1"><a class="reference internal" href="capture_events.html">scenario.capture_events</a></li>
<li class="toctree-l1"><a class="reference internal" href="consistency_checker.html">scenario.consistency_checker</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="module-scenario.context">
<span id="scenario-context"></span><h1>scenario.Context<a class="headerlink" href="#module-scenario.context" title="Permalink to this heading">¶</a></h1>
<dl class="py exception">
<dt class="sig sig-object py" id="scenario.context.AlreadyEmittedError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.context.</span></span><span class="sig-name descname"><span class="pre">AlreadyEmittedError</span></span><a class="reference internal" href="_modules/scenario/context.html#AlreadyEmittedError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.AlreadyEmittedError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></a></p>
<p>Raised when <a class="reference internal" href="index.html#scenario.Manager.run" title="scenario.Manager.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scenario.Manager.run()</span></code></a> is called more than once.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.context.CharmEvents">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.context.</span></span><span class="sig-name descname"><span class="pre">CharmEvents</span></span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Events generated by Juju or ops pertaining to the application lifecycle.</p>
<p>The events listed as attributes of this class should be accessed via the
<a class="reference internal" href="#scenario.context.Context.on" title="scenario.context.Context.on"><code class="xref py py-attr docutils literal notranslate"><span class="pre">Context.on</span></code></a> attribute. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">on</span><span class="o">.</span><span class="n">config_changed</span><span class="p">(),</span> <span class="n">state</span><span class="p">)</span>
</pre></div>
</div>
<p>This behaves similarly to the <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.CharmEvents" title="(in The ops library)"><code class="xref py py-class docutils literal notranslate"><span class="pre">ops.CharmEvents</span></code></a> class but is much
simpler as there are no dynamically named attributes, and no <code class="docutils literal notranslate"><span class="pre">__getattr__</span></code>
version to get events. In addition, all of the attributes are methods,
which are used to connect the event to the specific object that they relate
to (or, for simpler events like “start” or “stop”, take no arguments).</p>
<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.action">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">AnyJson</span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.action"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.action" title="Permalink to this definition">¶</a></dt>
<dd><p>Events raised by Juju when an administrator invokes a Juju Action.</p>
<p>This class is the data type of events triggered when an administrator
invokes a Juju Action. Callbacks bound to these events may be used
for responding to the administrator’s Juju Action request.</p>
<p>To read the parameters for the action, see the instance variable <code class="xref py py-attr docutils literal notranslate"><span class="pre">params</span></code>.
To respond with the result of the action, call <code class="xref py py-meth docutils literal notranslate"><span class="pre">set_results()</span></code>. To add
progress messages that are visible as the action is progressing use
<code class="xref py py-meth docutils literal notranslate"><span class="pre">log()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.collect_app_status">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collect_app_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.collect_app_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.collect_app_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered at the end of every hook to collect app statuses for evaluation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.collect_unit_status">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collect_unit_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.collect_unit_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.collect_unit_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered at the end of every hook to collect unit statuses for evaluation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.config_changed">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">config_changed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.config_changed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.config_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a configuration change occurs.</p>
<p>This event will fire in several situations:</p>
<ul class="simple">
<li><p>When the admin reconfigures the charm using the Juju CLI, for example
<code class="docutils literal notranslate"><span class="pre">juju</span> <span class="pre">config</span> <span class="pre">mycharm</span> <span class="pre">foo=bar</span></code>. This event notifies the charm of
its new configuration. (The event itself, however, is not aware of <em>what</em>
specifically has changed in the config).</p></li>
<li><p>Right after the unit starts up for the first time.
This event notifies the charm of its initial configuration.
Typically, this event will fire between an <code class="xref py py-class docutils literal notranslate"><span class="pre">install</span></code>
and a <code class="xref py py-class docutils literal notranslate"><span class="pre">start</span></code> during the startup sequence
(when a unit is first deployed), but in general it will fire whenever
the unit is (re)started, for example after pod churn on Kubernetes, on unit
rescheduling, on unit upgrade or refresh, and so on.</p></li>
<li><p>As a specific instance of the above point: when networking changes
(if the machine reboots and comes up with a different IP).</p></li>
</ul>
<p>Any callback method bound to this event cannot assume that the
software has already been started; it should not start stopped
software, but should (if appropriate) restart running software to
take configuration changes into account.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.install">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">install</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.install"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.install" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a charm is installed.</p>
<p>This event is triggered at the beginning of a charm’s
lifecycle. Any associated callback method should be used to
perform one-time setup operations, such as installing prerequisite
software.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.leader_elected">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">leader_elected</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.leader_elected"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.leader_elected" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a new leader has been elected.</p>
<p>Juju will trigger this event when a new leader unit is chosen for
a given application.</p>
<p>This event fires at least once after Juju selects a leader
unit. Callback methods bound to this event may take any action
required for the elected unit to assert leadership. Note that only
the elected leader unit will receive this event.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.pebble_check_failed">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pebble_check_failed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Container" title="scenario.state.Container"><span class="pre">Container</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.CheckInfo" title="scenario.state.CheckInfo"><span class="pre">CheckInfo</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.pebble_check_failed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.pebble_check_failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a Pebble check exceeds the configured failure threshold.</p>
<p>Note that the check may have started passing by the time this event is
emitted (which will mean that a <code class="xref py py-class docutils literal notranslate"><span class="pre">PebbleCheckRecoveredEvent</span></code> will be
emitted next). If the handler is executing code that should only be done
if the check is currently failing, check the current status with
<code class="docutils literal notranslate"><span class="pre">event.info.status</span> <span class="pre">==</span> <span class="pre">ops.pebble.CheckStatus.DOWN</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.pebble_check_recovered">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pebble_check_recovered</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Container" title="scenario.state.Container"><span class="pre">Container</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">info</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.CheckInfo" title="scenario.state.CheckInfo"><span class="pre">CheckInfo</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.pebble_check_recovered"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.pebble_check_recovered" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a Pebble check recovers.</p>
<p>This event is only triggered when the check has previously reached a failure
state (not simply failed, but failed at least as many times as the
configured threshold).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.pebble_custom_notice">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pebble_custom_notice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Container" title="scenario.state.Container"><span class="pre">Container</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">notice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Notice" title="scenario.state.Notice"><span class="pre">Notice</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.pebble_custom_notice"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.pebble_custom_notice" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a Pebble notice of type “custom” is created or repeats.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.pebble_ready">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pebble_ready</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">container</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Container" title="scenario.state.Container"><span class="pre">Container</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.pebble_ready"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.pebble_ready" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when Pebble is ready for a workload.</p>
<p>This event is triggered when the Pebble process for a workload/container
starts up, allowing the charm to configure how services should be launched.</p>
<p>Callback methods bound to this event allow the charm to run code after
a workload has started its Pebble instance and is ready to receive instructions
regarding what services should be started. The name prefix of the hook
will depend on the container key defined in the <code class="docutils literal notranslate"><span class="pre">metadata.yaml</span></code> file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.post_series_upgrade">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">post_series_upgrade</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.post_series_upgrade"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.post_series_upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered after a series upgrade.</p>
<p>This event is triggered after the administrator has done a distribution
upgrade (or rolled back and kept the same series). It is called in response
to <code class="docutils literal notranslate"><span class="pre">juju</span> <span class="pre">upgrade-machine</span> <span class="pre">&lt;machine&gt;</span> <span class="pre">complete</span></code>. Associated charm callback
methods are expected to do whatever steps are necessary to reconfigure their
applications for the new series. This may include things like populating the
upgraded version of a database. Note however charms are expected to check if
the series has actually changed or whether it was rolled back to the
original series.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.pre_series_upgrade">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">pre_series_upgrade</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.pre_series_upgrade"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.pre_series_upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered to prepare a unit for series upgrade.</p>
<p>This event triggers when an administrator executes <code class="docutils literal notranslate"><span class="pre">juju</span> <span class="pre">upgrade-machine</span>
<span class="pre">&lt;machine&gt;</span> <span class="pre">prepare</span></code>. The event will fire for each unit that is running on the
specified machine. Any callback method bound to this event must prepare the
charm for an upgrade to the series. This may include things like exporting
database content to a version neutral format, or evacuating running
instances to other machines.</p>
<p>It can be assumed that only after all units on a machine have executed the
callback method associated with this event, the administrator will initiate
steps to actually upgrade the series.  After the upgrade has been completed,
the <code class="xref py py-class docutils literal notranslate"><span class="pre">PostSeriesUpgradeEvent</span></code> will fire.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.relation_broken">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">relation_broken</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyRelation</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.relation_broken"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.relation_broken" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a relation is removed.</p>
<p>If a relation is being removed (<code class="docutils literal notranslate"><span class="pre">juju</span> <span class="pre">remove-relation</span></code> or <code class="docutils literal notranslate"><span class="pre">juju</span>
<span class="pre">remove-application</span></code>), once all the units have been removed, this event will
fire to signal that the relationship has been fully terminated.</p>
<p>The event indicates that the current relation is no longer valid, and that
the charm’s software must be configured as though the relation had never
existed. It will only be called after every callback method bound to
<code class="xref py py-class docutils literal notranslate"><span class="pre">RelationDepartedEvent</span></code> has been run. If a callback method
bound to this event is being executed, it is guaranteed that no remote units
are currently known locally.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.relation_changed">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">relation_changed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyRelation</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.relation_changed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.relation_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when relation data changes.</p>
<p>This event is triggered whenever there is a change to the data bucket for a
related application or unit. Look at <code class="docutils literal notranslate"><span class="pre">event.relation.data[event.unit/app]</span></code>
to see the new information, where <code class="docutils literal notranslate"><span class="pre">event</span></code> is the event object passed to
the callback method bound to this event.</p>
<p>This event always fires once, after <code class="xref py py-class docutils literal notranslate"><span class="pre">RelationJoinedEvent</span></code>, and
will subsequently fire whenever that remote unit changes its data for
the relation. Callback methods bound to this event should be the only ones
that rely on remote relation data. They should not error if the data
is incomplete, since it can be guaranteed that when the remote unit or
application changes its data, the event will fire again.</p>
<p>The data that may be queried, or set, are determined by the relation’s
interface.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.relation_created">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">relation_created</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyRelation</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.relation_created"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.relation_created" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a new relation is created.</p>
<p>This is triggered when a new integration with another app is added in Juju. This
can occur before units for those applications have started. All existing
relations will trigger <cite>RelationCreatedEvent</cite> before <code class="xref py py-class docutils literal notranslate"><span class="pre">StartEvent</span></code> is
emitted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.relation_departed">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">relation_departed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyRelation</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">departing_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.relation_departed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.relation_departed" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a unit leaves a relation.</p>
<p>This is the inverse of the <code class="xref py py-class docutils literal notranslate"><span class="pre">RelationJoinedEvent</span></code>, representing when a
unit is leaving the relation (the unit is being removed, the app is being
removed, the relation is being removed). For remaining units, this event is
emitted once for each departing unit.  For departing units, this event is
emitted once for each remaining unit.</p>
<p>Callback methods bound to this event may be used to remove all
references to the departing remote unit, because there’s no
guarantee that it’s still part of the system; it’s perfectly
probable (although not guaranteed) that the system running that
unit has already shut down.</p>
<p>Once all callback methods bound to this event have been run for such a
relation, the unit agent will fire the <code class="xref py py-class docutils literal notranslate"><span class="pre">RelationBrokenEvent</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.relation_joined">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">relation_joined</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">relation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">AnyRelation</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remote_unit</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.relation_joined"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.relation_joined" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a new unit joins a relation.</p>
<p>This event is triggered whenever a new unit of a related
application joins the relation.  The event fires only when that
remote unit is first observed by the unit. Callback methods bound
to this event may set any local unit data that can be
determined using no more than the name of the joining unit and the
remote <code class="docutils literal notranslate"><span class="pre">private-address</span></code> setting, which is always available when
the relation is created and is by convention not deleted.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.remove">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a unit is about to be terminated.</p>
<p>This event fires prior to Juju removing the charm and terminating its unit.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.secret_changed">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">secret_changed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Secret" title="scenario.state.Secret"><span class="pre">Secret</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.secret_changed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.secret_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered on the secret observer charm when the secret owner changes its contents.</p>
<p>When the owner of a secret changes the secret’s contents, Juju will create
a new secret revision, and all applications or units that are tracking this
secret will be notified via this event that a new revision is available.</p>
<p>Typically, the charm will fetch the new content by calling
<a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.Secret.get_content" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">event.secret.get_content()</span></code></a> with <code class="docutils literal notranslate"><span class="pre">refresh=True</span></code>
to tell Juju to start tracking the new revision.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.secret_expired">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">secret_expired</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Secret" title="scenario.state.Secret"><span class="pre">Secret</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">revision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.secret_expired"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.secret_expired" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered on the secret owner charm when a secret’s expiration time elapses.</p>
<p>This event is fired on the secret owner to inform it that the secret revision
must be removed. The event will keep firing until the owner removes the
revision by calling <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.Secret.remove_revision" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">event.secret.remove_revision()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.secret_remove">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">secret_remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Secret" title="scenario.state.Secret"><span class="pre">Secret</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">revision</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.secret_remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.secret_remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered on the secret owner charm when a secret revision can be removed.</p>
<p>When the owner of a secret creates a new revision, and after all
observers have updated to that new revision, this event will be fired to
inform the secret owner that the old revision can be removed.</p>
<p>After any required cleanup, the charm should call
<a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.Secret.remove_revision" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">event.secret.remove_revision()</span></code></a> to
remove the now-unused revision. If the charm does not, then the event will
be emitted again, when further revisions are ready for removal.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.secret_rotate">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">secret_rotate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Secret" title="scenario.state.Secret"><span class="pre">Secret</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.secret_rotate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.secret_rotate" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered on the secret owner charm when the secret’s rotation policy elapses.</p>
<p>This event is fired on the secret owner to inform it that the secret must
be rotated. The event will keep firing until the owner creates a new
revision by calling <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.Secret.set_content" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">event.secret.set_content()</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.start">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered immediately after first configuration change.</p>
<p>This event is triggered immediately after the first
<code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigChangedEvent</span></code>. Callback methods bound to the event should be
used to ensure that the charm’s software is in a running state. Note that
the charm’s software should be configured so as to persist in this state
through reboots without further intervention on Juju’s part.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.stop">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when a charm is shut down.</p>
<p>This event is triggered when an application’s removal is requested
by the client. The event fires immediately before the end of the
unit’s destruction sequence. Callback methods bound to this event
should be used to ensure that the charm’s software is not running,
and that it will not start again on reboot.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.storage_attached">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">storage_attached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">storage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Storage" title="scenario.state.Storage"><span class="pre">Storage</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.storage_attached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.storage_attached" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered when new storage becomes available.</p>
<p>This event is triggered when new storage is available for the
charm to use.</p>
<p>Callback methods bound to this event allow the charm to run code
when storage has been added. Such methods will be run before the
<code class="xref py py-class docutils literal notranslate"><span class="pre">InstallEvent</span></code> fires, so that the installation routine may
use the storage. The name prefix of this hook will depend on the
storage key defined in the <code class="docutils literal notranslate"><span class="pre">metadata.yaml</span></code> file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.storage_detaching">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">storage_detaching</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">storage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="state.html#scenario.state.Storage" title="scenario.state.Storage"><span class="pre">Storage</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.storage_detaching"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.storage_detaching" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered prior to removal of storage.</p>
<p>This event is triggered when storage a charm has been using is
going away.</p>
<p>Callback methods bound to this event allow the charm to run code
before storage is removed. Such methods will be run before storage
is detached, and always before the <code class="xref py py-class docutils literal notranslate"><span class="pre">StopEvent</span></code> fires, thereby
allowing the charm to gracefully release resources before they are
removed and before the unit terminates. The name prefix of the
hook will depend on the storage key defined in the <code class="docutils literal notranslate"><span class="pre">metadata.yaml</span></code>
file.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.update_status">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">update_status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.update_status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.update_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered by a status update request from Juju.</p>
<p>This event is periodically triggered by Juju so that it can
provide constant feedback to the administrator about the status of
the application the charm is modeling. Any callback method bound
to this event should determine the “health” of the application and
set the status appropriately.</p>
<p>The interval between <code class="xref py py-class docutils literal notranslate"><span class="pre">update-status</span></code> events can
be configured model-wide, e.g.  <code class="docutils literal notranslate"><span class="pre">juju</span> <span class="pre">model-config</span>
<span class="pre">update-status-hook-interval=1m</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.CharmEvents.upgrade_charm">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">upgrade_charm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#CharmEvents.upgrade_charm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.CharmEvents.upgrade_charm" title="Permalink to this definition">¶</a></dt>
<dd><p>Event triggered by a status update request from Juju.</p>
<p>This event is periodically triggered by Juju so that it can
provide constant feedback to the administrator about the status of
the application the charm is modeling. Any callback method bound
to this event should determine the “health” of the application and
set the status appropriately.</p>
<p>The interval between <code class="xref py py-class docutils literal notranslate"><span class="pre">update-status</span></code> events can
be configured model-wide, e.g.  <code class="docutils literal notranslate"><span class="pre">juju</span> <span class="pre">model-config</span>
<span class="pre">update-status-hook-interval=1m</span></code>.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.context.Context">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.context.</span></span><span class="sig-name descname"><span class="pre">Context</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">charm_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Type" title="(in Python v3.12)"><span class="pre">Type</span></a><span class="p"><span class="pre">[</span></span><span class="pre">CharmType</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">meta</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charm_root</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">juju_version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'3.4'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capture_deferred_events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">capture_framework_events</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unit_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app_trusted</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#Context"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.Context" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Represents a simulated charm’s execution context.</p>
<p>The main entry point to running a test. It contains:</p>
<ul class="simple">
<li><p>the charm source code being executed</p></li>
<li><p>the metadata files associated with it</p></li>
<li><p>a charm project repository root</p></li>
<li><p>the Juju version to be simulated</p></li>
</ul>
<p>After you have instantiated <code class="docutils literal notranslate"><span class="pre">Context</span></code>, typically you will call <a class="reference internal" href="#scenario.context.Context.run" title="scenario.context.Context.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> to execute the
charm once, write any assertions you like on the output state returned by the call, write any
assertions you like on the <code class="docutils literal notranslate"><span class="pre">Context</span></code> attributes, then discard the <code class="docutils literal notranslate"><span class="pre">Context</span></code>.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">Context</span></code> instance is in principle designed to be single-use:
<code class="docutils literal notranslate"><span class="pre">Context</span></code> is not cleaned up automatically between charm runs.</p>
<p>Any side effects generated by executing the charm, that are not rightful part of the
<code class="docutils literal notranslate"><span class="pre">State</span></code>, are in fact stored in the <code class="docutils literal notranslate"><span class="pre">Context</span></code>:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#scenario.context.Context.juju_log" title="scenario.context.Context.juju_log"><code class="xref py py-attr docutils literal notranslate"><span class="pre">juju_log</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.context.Context.app_status_history" title="scenario.context.Context.app_status_history"><code class="xref py py-attr docutils literal notranslate"><span class="pre">app_status_history</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.context.Context.unit_status_history" title="scenario.context.Context.unit_status_history"><code class="xref py py-attr docutils literal notranslate"><span class="pre">unit_status_history</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.context.Context.workload_version_history" title="scenario.context.Context.workload_version_history"><code class="xref py py-attr docutils literal notranslate"><span class="pre">workload_version_history</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.context.Context.removed_secret_revisions" title="scenario.context.Context.removed_secret_revisions"><code class="xref py py-attr docutils literal notranslate"><span class="pre">removed_secret_revisions</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.context.Context.requested_storages" title="scenario.context.Context.requested_storages"><code class="xref py py-attr docutils literal notranslate"><span class="pre">requested_storages</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.context.Context.emitted_events" title="scenario.context.Context.emitted_events"><code class="xref py py-attr docutils literal notranslate"><span class="pre">emitted_events</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.context.Context.action_logs" title="scenario.context.Context.action_logs"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action_logs</span></code></a></p></li>
<li><p><a class="reference internal" href="#scenario.context.Context.action_results" title="scenario.context.Context.action_results"><code class="xref py py-attr docutils literal notranslate"><span class="pre">action_results</span></code></a></p></li>
</ul>
<p>This allows you to write assertions not only on the output state, but also, to some
extent, on the path the charm took to get there.</p>
<p>A typical test will look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">charm</span> <span class="kn">import</span> <span class="n">MyCharm</span><span class="p">,</span> <span class="n">MyCustomEvent</span>  <span class="c1"># noqa</span>

<span class="k">def</span> <span class="nf">test_foo</span><span class="p">():</span>
    <span class="c1"># Arrange: set the context up</span>
    <span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">MyCharm</span><span class="p">)</span>
    <span class="c1"># Act: prepare the state and emit an event</span>
    <span class="n">state_out</span> <span class="o">=</span> <span class="n">ctx</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">on</span><span class="o">.</span><span class="n">update_status</span><span class="p">(),</span> <span class="n">State</span><span class="p">())</span>
    <span class="c1"># Assert: verify the output state is what you think it should be</span>
    <span class="k">assert</span> <span class="n">state_out</span><span class="o">.</span><span class="n">unit_status</span> <span class="o">==</span> <span class="n">ActiveStatus</span><span class="p">(</span><span class="s1">&#39;foobar&#39;</span><span class="p">)</span>
    <span class="c1"># Assert: verify the Context contains what you think it should</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">emitted_events</span><span class="p">)</span> <span class="o">==</span> <span class="mi">4</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">emitted_events</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">MyCustomEvent</span><span class="p">)</span>
</pre></div>
</div>
<p>If you need access to the charm object that will handle the event, use the
class in a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement, like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">test_foo</span><span class="p">():</span>
    <span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">MyCharm</span><span class="p">)</span>
    <span class="k">with</span> <span class="n">ctx</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">on</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">State</span><span class="p">())</span> <span class="k">as</span> <span class="n">manager</span><span class="p">:</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">charm</span><span class="o">.</span><span class="n">_some_private_setup</span><span class="p">()</span>
        <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.action_logs">
<span class="sig-name descname"><span class="pre">action_logs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.context.Context.action_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>The logs associated with the action output, set by the charm with <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.ActionEvent.log" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ops.ActionEvent.log()</span></code></a></p>
<p>This will be empty when handling a non-action event.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.action_results">
<span class="sig-name descname"><span class="pre">action_results</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Any" title="(in Python v3.12)"><span class="pre">Any</span></a><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.12)"><span class="pre">None</span></a></em><a class="headerlink" href="#scenario.context.Context.action_results" title="Permalink to this definition">¶</a></dt>
<dd><p>A key-value mapping assigned by the charm as a result of the action.</p>
<p>This will be <code class="docutils literal notranslate"><span class="pre">None</span></code> if the charm never calls <a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.ActionEvent.set_results" title="(in The ops library)"><code class="xref py py-meth docutils literal notranslate"><span class="pre">ops.ActionEvent.set_results()</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.app_status_history">
<span class="sig-name descname"><span class="pre">app_status_history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_EntityStatus</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.context.Context.app_status_history" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the app statuses the charm has set</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.emitted_events">
<span class="sig-name descname"><span class="pre">emitted_events</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.EventBase" title="(in The ops library)"><span class="pre">EventBase</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.context.Context.emitted_events" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the events (including custom) that the charm has processed</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.juju_log">
<span class="sig-name descname"><span class="pre">juju_log</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="state.html#scenario.state.JujuLogLine" title="scenario.state.JujuLogLine"><span class="pre">JujuLogLine</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.context.Context.juju_log" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of what the charm has sent to juju-log</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.on">
<span class="sig-name descname"><span class="pre">on</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#scenario.context.CharmEvents" title="scenario.context.CharmEvents"><span class="pre">CharmEvents</span></a></em><a class="headerlink" href="#scenario.context.Context.on" title="Permalink to this definition">¶</a></dt>
<dd><p>The events that this charm can respond to.</p>
<p>Use this when calling <a class="reference internal" href="#scenario.context.Context.run" title="scenario.context.Context.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> to specify the event to emit.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="scenario.context.Context.output_state">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">output_state</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="index.html#scenario.State" title="scenario.State"><span class="pre">State</span></a></em><a class="headerlink" href="#scenario.context.Context.output_state" title="Permalink to this definition">¶</a></dt>
<dd><p>The output state obtained by running an event on this context.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.12)"><strong>RuntimeError</strong></a> – if this <code class="docutils literal notranslate"><span class="pre">Context</span></code> hasn’t been <a class="reference internal" href="#scenario.context.Context.run" title="scenario.context.Context.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code></a> yet.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.removed_secret_revisions">
<span class="sig-name descname"><span class="pre">removed_secret_revisions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.context.Context.removed_secret_revisions" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the secret revisions the charm has removed</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.requested_storages">
<span class="sig-name descname"><span class="pre">requested_storages</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><span class="pre">int</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.context.Context.requested_storages" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the storages the charm has requested</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.Context.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_Event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="index.html#scenario.State" title="scenario.State"><span class="pre">State</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="index.html#scenario.State" title="scenario.State"><span class="pre">State</span></a></span></span><a class="reference internal" href="_modules/scenario/context.html#Context.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.Context.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Trigger a charm execution with an event and a State.</p>
<p>Calling this function will call <code class="docutils literal notranslate"><span class="pre">ops.main</span></code> and set up the context according to the
specified <code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code>, then emit the event on the charm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> – the event that the charm will respond to. Use the <a class="reference internal" href="#scenario.context.Context.on" title="scenario.context.Context.on"><code class="xref py py-attr docutils literal notranslate"><span class="pre">on</span></code></a> attribute to
specify the event; for example: <code class="docutils literal notranslate"><span class="pre">ctx.on.start()</span></code>.</p></li>
<li><p><strong>state</strong> – the <code class="xref py py-class docutils literal notranslate"><span class="pre">State</span></code> instance to use as data source for the hook tool calls that
the charm will invoke when handling the event.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.unit_status_history">
<span class="sig-name descname"><span class="pre">unit_status_history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><span class="pre">_EntityStatus</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.context.Context.unit_status_history" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the unit statuses the charm has set</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scenario.context.Context.workload_version_history">
<span class="sig-name descname"><span class="pre">workload_version_history</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#scenario.context.Context.workload_version_history" title="Permalink to this definition">¶</a></dt>
<dd><p>A record of the workload versions the charm has set</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="scenario.context.ContextSetupError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.context.</span></span><span class="sig-name descname"><span class="pre">ContextSetupError</span></span><a class="reference internal" href="_modules/scenario/context.html#ContextSetupError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.ContextSetupError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></a></p>
<p>Raised by <a class="reference internal" href="index.html#scenario.Context" title="scenario.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">scenario.Context</span></code></a> when setup fails.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="scenario.context.InvalidEventError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.context.</span></span><span class="sig-name descname"><span class="pre">InvalidEventError</span></span><a class="reference internal" href="_modules/scenario/context.html#InvalidEventError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.InvalidEventError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#RuntimeError" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">RuntimeError</span></code></a></p>
<p>Raised when something is wrong with the event passed to <a class="reference internal" href="index.html#scenario.Context.run" title="scenario.Context.run"><code class="xref py py-meth docutils literal notranslate"><span class="pre">scenario.Context.run()</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario.context.Manager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario.context.</span></span><span class="sig-name descname"><span class="pre">Manager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ctx</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#scenario.context.Context" title="scenario.context.Context"><span class="pre">Context</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_Event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">state_in</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="index.html#scenario.State" title="scenario.State"><span class="pre">State</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scenario/context.html#Manager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.Manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Context manager to offer test code some runtime charm object introspection.</p>
<p>This class should not be instantiated directly: use a <a class="reference internal" href="#scenario.context.Context" title="scenario.context.Context"><code class="xref py py-class docutils literal notranslate"><span class="pre">Context</span></code></a>
in a <code class="docutils literal notranslate"><span class="pre">with</span></code> statement instead, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ctx</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="n">MyCharm</span><span class="p">)</span>
<span class="k">with</span> <span class="n">ctx</span><span class="p">(</span><span class="n">ctx</span><span class="o">.</span><span class="n">on</span><span class="o">.</span><span class="n">start</span><span class="p">(),</span> <span class="n">State</span><span class="p">())</span> <span class="k">as</span> <span class="n">manager</span><span class="p">:</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">charm</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
    <span class="n">manager</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py property">
<dt class="sig sig-object py" id="scenario.context.Manager.charm">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">charm</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://ops.readthedocs.io/en/latest/index.html#ops.CharmBase" title="(in The ops library)"><span class="pre">CharmBase</span></a></em><a class="headerlink" href="#scenario.context.Manager.charm" title="Permalink to this definition">¶</a></dt>
<dd><p>The charm object instantiated by ops to handle the event.</p>
<p>The charm is only available during the context manager scope.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario.context.Manager.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="index.html#scenario.State" title="scenario.State"><span class="pre">State</span></a></span></span><a class="reference internal" href="_modules/scenario/context.html#Manager.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario.context.Manager.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit the event and proceed with charm execution.</p>
<p>This can only be done once.</p>
</dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
   

<div class="related-pages">
  
  
  
  
</div>
<div class="bottom-of-page">
  <div class="left-details">
    <div class="copyright">
        Copyright &#169; 2024, Canonical Ltd.
    </div>

    <div class="last-updated">
      Last updated on Aug 13, 2024</div>
    <div class="show-source">
      <a class="muted-link" href="_sources/context.rst.txt"
         rel="nofollow">Show source</a>
    </div>
  </div>
  <div class="right-details">

    

    
    <div class="ask-discourse">
      <a class="muted-link" href="https://discourse.charmhub.io/">Ask a question on Discourse</a>
    </div>
    

    

    
    <div class="ask-matrix">
      <a class="muted-link" href="https://matrix.to/#/#charmhub-charmdev:ubuntu.com">Ask a question on Matrix</a>
    </div>
    

    

    
    <div class="issue-github">
      <a class="muted-link" href="https://github.com/canonical/ops-scenario/issues/new?title=doc%3A+ADD+A+TITLE&body=DESCRIBE+THE+ISSUE%0A%0A---%0ADocument: context.rst">Open a GitHub issue for this page</a>
    </div>
    

    <div class="edit-github">
      <a class="muted-link" href="https://github.com/canonical/ops-scenario/edit/main/docs/context.rst">Edit this page on GitHub</a>
    </div>
    


    </div>
  </div>
</div>

      </footer>
    </div>
    <aside class="toc-drawer">
      
<div class="toc-sticky toc-scroll">
   
    <div class="toc-title-container">
      <span class="toc-title">
       Contents
      </span>
    </div>
    <div class="toc-tree-container">
      <div class="toc-tree">
        <ul>
<li><a class="reference internal" href="#">scenario.Context</a><ul>
<li><a class="reference internal" href="#scenario.context.AlreadyEmittedError"><code class="docutils literal notranslate"><span class="pre">AlreadyEmittedError</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents"><code class="docutils literal notranslate"><span class="pre">CharmEvents</span></code></a><ul>
<li><a class="reference internal" href="#scenario.context.CharmEvents.action"><code class="docutils literal notranslate"><span class="pre">CharmEvents.action()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.collect_app_status"><code class="docutils literal notranslate"><span class="pre">CharmEvents.collect_app_status()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.collect_unit_status"><code class="docutils literal notranslate"><span class="pre">CharmEvents.collect_unit_status()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.config_changed"><code class="docutils literal notranslate"><span class="pre">CharmEvents.config_changed()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.install"><code class="docutils literal notranslate"><span class="pre">CharmEvents.install()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.leader_elected"><code class="docutils literal notranslate"><span class="pre">CharmEvents.leader_elected()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.pebble_check_failed"><code class="docutils literal notranslate"><span class="pre">CharmEvents.pebble_check_failed()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.pebble_check_recovered"><code class="docutils literal notranslate"><span class="pre">CharmEvents.pebble_check_recovered()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.pebble_custom_notice"><code class="docutils literal notranslate"><span class="pre">CharmEvents.pebble_custom_notice()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.pebble_ready"><code class="docutils literal notranslate"><span class="pre">CharmEvents.pebble_ready()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.post_series_upgrade"><code class="docutils literal notranslate"><span class="pre">CharmEvents.post_series_upgrade()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.pre_series_upgrade"><code class="docutils literal notranslate"><span class="pre">CharmEvents.pre_series_upgrade()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.relation_broken"><code class="docutils literal notranslate"><span class="pre">CharmEvents.relation_broken()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.relation_changed"><code class="docutils literal notranslate"><span class="pre">CharmEvents.relation_changed()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.relation_created"><code class="docutils literal notranslate"><span class="pre">CharmEvents.relation_created()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.relation_departed"><code class="docutils literal notranslate"><span class="pre">CharmEvents.relation_departed()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.relation_joined"><code class="docutils literal notranslate"><span class="pre">CharmEvents.relation_joined()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.remove"><code class="docutils literal notranslate"><span class="pre">CharmEvents.remove()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.secret_changed"><code class="docutils literal notranslate"><span class="pre">CharmEvents.secret_changed()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.secret_expired"><code class="docutils literal notranslate"><span class="pre">CharmEvents.secret_expired()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.secret_remove"><code class="docutils literal notranslate"><span class="pre">CharmEvents.secret_remove()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.secret_rotate"><code class="docutils literal notranslate"><span class="pre">CharmEvents.secret_rotate()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.start"><code class="docutils literal notranslate"><span class="pre">CharmEvents.start()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.stop"><code class="docutils literal notranslate"><span class="pre">CharmEvents.stop()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.storage_attached"><code class="docutils literal notranslate"><span class="pre">CharmEvents.storage_attached()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.storage_detaching"><code class="docutils literal notranslate"><span class="pre">CharmEvents.storage_detaching()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.update_status"><code class="docutils literal notranslate"><span class="pre">CharmEvents.update_status()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.CharmEvents.upgrade_charm"><code class="docutils literal notranslate"><span class="pre">CharmEvents.upgrade_charm()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.context.Context"><code class="docutils literal notranslate"><span class="pre">Context</span></code></a><ul>
<li><a class="reference internal" href="#scenario.context.Context.action_logs"><code class="docutils literal notranslate"><span class="pre">Context.action_logs</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.action_results"><code class="docutils literal notranslate"><span class="pre">Context.action_results</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.app_status_history"><code class="docutils literal notranslate"><span class="pre">Context.app_status_history</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.emitted_events"><code class="docutils literal notranslate"><span class="pre">Context.emitted_events</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.juju_log"><code class="docutils literal notranslate"><span class="pre">Context.juju_log</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.on"><code class="docutils literal notranslate"><span class="pre">Context.on</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.output_state"><code class="docutils literal notranslate"><span class="pre">Context.output_state</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.removed_secret_revisions"><code class="docutils literal notranslate"><span class="pre">Context.removed_secret_revisions</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.requested_storages"><code class="docutils literal notranslate"><span class="pre">Context.requested_storages</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.run"><code class="docutils literal notranslate"><span class="pre">Context.run()</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.unit_status_history"><code class="docutils literal notranslate"><span class="pre">Context.unit_status_history</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Context.workload_version_history"><code class="docutils literal notranslate"><span class="pre">Context.workload_version_history</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario.context.ContextSetupError"><code class="docutils literal notranslate"><span class="pre">ContextSetupError</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.InvalidEventError"><code class="docutils literal notranslate"><span class="pre">InvalidEventError</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Manager"><code class="docutils literal notranslate"><span class="pre">Manager</span></code></a><ul>
<li><a class="reference internal" href="#scenario.context.Manager.charm"><code class="docutils literal notranslate"><span class="pre">Manager.charm</span></code></a></li>
<li><a class="reference internal" href="#scenario.context.Manager.run"><code class="docutils literal notranslate"><span class="pre">Manager.run()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

      </div>
    </div>
   
    
  </div>

    </aside>
  </div>
</div><script src="_static/jquery.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/scripts/furo.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/design-tabs.js"></script>
    <script src="_static/header-nav.js"></script>
    <script src="_static/github_issue_links.js"></script>
    
<script>
  const github_url = "https://github.com/canonical/ops-scenario";
</script>
</body>
</html>